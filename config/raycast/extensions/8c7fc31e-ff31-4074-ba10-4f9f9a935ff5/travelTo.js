"use strict";var g=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var L=(o,t)=>{for(var s in t)g(o,s,{get:t[s],enumerable:!0})},b=(o,t,s,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of A(t))!x.call(o,r)&&r!==s&&g(o,r,{get:()=>t[r],enumerable:!(a=y(t,r))||a.enumerable});return o};var P=o=>b(g({},"__esModule",{value:!0}),o);var T={};L(T,{default:()=>D});module.exports=P(T);var e=require("@raycast/api"),i=require("react");var l=require("@raycast/api"),S=o=>!o||o.trim().length===0,h=o=>o.replace(/(\r\n|\n|\r)/gm," ").trim(),k=async()=>{try{let o=await l.Clipboard.readText();return o?h(o):""}catch(o){return console.error("Error reading clipboard:",o),""}},w=async()=>{try{let o=await(0,l.getSelectedText)();if(!S(o))return h(o)}catch{}return k()};function u(o,t,s){return"https://www.google.com/maps/dir/?api=1"+"&origin="+encodeURI(o)+"&destination="+encodeURI(t)+"&travelmode="+encodeURI(s)}var n=require("react/jsx-runtime");function D(){let o=(0,e.getPreferenceValues)(),[t,s]=(0,i.useState)("curloc"),[a,r]=(0,i.useState)(""),[d,f]=(0,i.useState)(""),[m,I]=(0,i.useState)(o.preferredMode),[O,C]=(0,i.useState)(o.useSelected),v=(0,i.useCallback)(p=>{let c=p;s(c),r(c==="curloc"?"":c==="home"?o.homeAddress:"")},[o.homeAddress]);return(0,i.useEffect)(()=>{async function p(){if(o.useSelected)try{let c=await w();f(c)}catch(c){console.error("Error fetching input:",c)}finally{C(!1)}else C(!1)}p()},[o.useSelected]),(0,n.jsxs)(e.Form,{isLoading:O,actions:(0,n.jsxs)(e.ActionPanel,{children:[(0,n.jsx)(e.Action.OpenInBrowser,{url:u(a,d,m),icon:e.Icon.Globe,onOpen:()=>(0,e.popToRoot)()}),(0,n.jsx)(e.Action.CopyToClipboard,{content:u(a,d,m),icon:e.Icon.Clipboard,onCopy:()=>(0,e.popToRoot)()})]}),children:[(0,n.jsx)(e.Form.TextField,{id:"destination",title:"Destination",placeholder:"Name or Address",value:d,onChange:f}),(0,n.jsx)(e.Form.Separator,{}),(0,n.jsxs)(e.Form.Dropdown,{id:"origin",title:"Starting from",value:t,onChange:v,children:[(0,n.jsx)(e.Form.Dropdown.Item,{value:"curloc",title:"Current Location",icon:e.Icon.Pin}),(0,n.jsx)(e.Form.Dropdown.Item,{value:"home",title:"Home",icon:e.Icon.House}),(0,n.jsx)(e.Form.Dropdown.Item,{value:"custom",title:"Custom Address",icon:e.Icon.Pencil})]}),t==="custom"&&(0,n.jsx)(e.Form.TextField,{id:"originAddress",title:"Address",placeholder:"Name or Address",value:a,onChange:r}),(0,n.jsxs)(e.Form.Dropdown,{id:"TransportType",title:"Transport Preference",value:m,onChange:I,children:[(0,n.jsx)(e.Form.Dropdown.Item,{value:"d",title:"Driving",icon:e.Icon.Car}),(0,n.jsx)(e.Form.Dropdown.Item,{value:"t",title:"Transit",icon:e.Icon.Train}),(0,n.jsx)(e.Form.Dropdown.Item,{value:"w",title:"Walk",icon:e.Icon.Footprints}),(0,n.jsx)(e.Form.Dropdown.Item,{value:"c",title:"Cycling",icon:e.Icon.Bike})]})]})}
