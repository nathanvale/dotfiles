"use strict";var Mi=Object.create;var lt=Object.defineProperty;var vi=Object.getOwnPropertyDescriptor;var Si=Object.getOwnPropertyNames;var xi=Object.getPrototypeOf,Fi=Object.prototype.hasOwnProperty;var X=(u,o)=>()=>(o||u((o={exports:{}}).exports,o),o.exports),Xi=(u,o)=>{for(var b in o)lt(u,b,{get:o[b],enumerable:!0})},Wt=(u,o,b,D)=>{if(o&&typeof o=="object"||typeof o=="function")for(let s of Si(o))!Fi.call(u,s)&&s!==b&&lt(u,s,{get:()=>o[s],enumerable:!(D=vi(o,s))||D.enumerable});return u};var qi=(u,o,b)=>(b=u!=null?Mi(xi(u)):{},Wt(o||!u||!u.__esModule?lt(b,"default",{value:u,enumerable:!0}):b,u)),Ri=u=>Wt(lt({},"__esModule",{value:!0}),u);var ht=X(At=>{(function(){At.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(At)});var Q=X((Yt,it)=>{(function(){var u,o,b,D,s,d,a,h=[].slice,m={}.hasOwnProperty;u=function(){var w,O,I,g,f,y;if(y=arguments[0],f=2<=arguments.length?h.call(arguments,1):[],s(Object.assign))Object.assign.apply(null,arguments);else for(w=0,I=f.length;w<I;w++)if(g=f[w],g!=null)for(O in g)m.call(g,O)&&(y[O]=g[O]);return y},s=function(w){return!!w&&Object.prototype.toString.call(w)==="[object Function]"},d=function(w){var O;return!!w&&((O=typeof w)=="function"||O==="object")},b=function(w){return s(Array.isArray)?Array.isArray(w):Object.prototype.toString.call(w)==="[object Array]"},D=function(w){var O;if(b(w))return!w.length;for(O in w)if(m.call(w,O))return!1;return!0},a=function(w){var O,I;return d(w)&&(I=Object.getPrototypeOf(w))&&(O=I.constructor)&&typeof O=="function"&&O instanceof O&&Function.prototype.toString.call(O)===Function.prototype.toString.call(Object)},o=function(w){return s(w.valueOf)?w.valueOf():w},it.exports.assign=u,it.exports.isFunction=s,it.exports.isObject=d,it.exports.isArray=b,it.exports.isEmpty=D,it.exports.isPlainObject=a,it.exports.getValue=o}).call(Yt)});var Lt=X((Kt,zt)=>{(function(){var u;zt.exports=u=function(){function o(){}return o.prototype.hasFeature=function(b,D){return!0},o.prototype.createDocumentType=function(b,D,s){throw new Error("This DOM method is not implemented.")},o.prototype.createDocument=function(b,D,s){throw new Error("This DOM method is not implemented.")},o.prototype.createHTMLDocument=function(b){throw new Error("This DOM method is not implemented.")},o.prototype.getFeature=function(b,D){throw new Error("This DOM method is not implemented.")},o}()}).call(Kt)});var Qt=X(($t,Ht)=>{(function(){var u;Ht.exports=u=function(){function o(){}return o.prototype.handleError=function(b){throw new Error(b)},o}()}).call($t)});var te=X((Zt,Jt)=>{(function(){var u;Jt.exports=u=function(){function o(b){this.arr=b||[]}return Object.defineProperty(o.prototype,"length",{get:function(){return this.arr.length}}),o.prototype.item=function(b){return this.arr[b]||null},o.prototype.contains=function(b){return this.arr.indexOf(b)!==-1},o}()}).call(Zt)});var re=X((ee,ie)=>{(function(){var u,o,b;o=Qt(),b=te(),ie.exports=u=function(){function D(){var s;this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new o,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=s=Object.create(this.defaultParams)}return Object.defineProperty(D.prototype,"parameterNames",{get:function(){return new b(Object.keys(this.defaultParams))}}),D.prototype.getParameter=function(s){return this.params.hasOwnProperty(s)?this.params[s]:null},D.prototype.canSetParameter=function(s,d){return!0},D.prototype.setParameter=function(s,d){return d!=null?this.params[s]=d:delete this.params[s]},D}()}).call(ee)});var k=X((ne,oe)=>{(function(){oe.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(ne)});var Mt=X((se,ae)=>{(function(){var u,o,b;u=k(),b=$(),ae.exports=o=function(){function D(s,d,a){if(this.parent=s,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),d==null)throw new Error("Missing attribute name. "+this.debugInfo(d));this.name=this.stringify.name(d),this.value=this.stringify.attValue(a),this.type=u.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(D.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(D.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(D.prototype,"textContent",{get:function(){return this.value},set:function(s){return this.value=s||""}}),Object.defineProperty(D.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(D.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(D.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(D.prototype,"specified",{get:function(){return!0}}),D.prototype.clone=function(){return Object.create(this)},D.prototype.toString=function(s){return this.options.writer.attribute(this,this.options.writer.filterOptions(s))},D.prototype.debugInfo=function(s){return s=s||this.name,s==null?"parent: <"+this.parent.name+">":"attribute: {"+s+"}, parent: <"+this.parent.name+">"},D.prototype.isEqualNode=function(s){return!(s.namespaceURI!==this.namespaceURI||s.prefix!==this.prefix||s.localName!==this.localName||s.value!==this.value)},D}()}).call(se)});var ft=X((ue,ce)=>{(function(){var u;ce.exports=u=function(){function o(b){this.nodes=b}return Object.defineProperty(o.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),o.prototype.clone=function(){return this.nodes=null},o.prototype.getNamedItem=function(b){return this.nodes[b]},o.prototype.setNamedItem=function(b){var D;return D=this.nodes[b.nodeName],this.nodes[b.nodeName]=b,D||null},o.prototype.removeNamedItem=function(b){var D;return D=this.nodes[b],delete this.nodes[b],D||null},o.prototype.item=function(b){return this.nodes[Object.keys(this.nodes)[b]]||null},o.prototype.getNamedItemNS=function(b,D){throw new Error("This DOM method is not implemented.")},o.prototype.setNamedItemNS=function(b){throw new Error("This DOM method is not implemented.")},o.prototype.removeNamedItemNS=function(b,D){throw new Error("This DOM method is not implemented.")},o}()}).call(ue)});var pt=X((le,he)=>{(function(){var u,o,b,D,s,d,a,h,m,w=function(I,g){for(var f in g)O.call(g,f)&&(I[f]=g[f]);function y(){this.constructor=I}return y.prototype=g.prototype,I.prototype=new y,I.__super__=g.prototype,I},O={}.hasOwnProperty;m=Q(),h=m.isObject,a=m.isFunction,d=m.getValue,s=$(),u=k(),o=Mt(),D=ft(),he.exports=b=function(I){w(g,I);function g(f,y,T){var v,L,P,l;if(g.__super__.constructor.call(this,f),y==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(y),this.type=u.Element,this.attribs={},this.schemaTypeInfo=null,T!=null&&this.attribute(T),f.type===u.Document&&(this.isRoot=!0,this.documentObject=f,f.rootObject=this,f.children)){for(l=f.children,L=0,P=l.length;L<P;L++)if(v=l[L],v.type===u.DocType){v.name=this.name;break}}}return Object.defineProperty(g.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(g.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(g.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(g.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(g.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(g.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(g.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(g.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new D(this.attribs)),this.attributeMap}}),g.prototype.clone=function(){var f,y,T,v;T=Object.create(this),T.isRoot&&(T.documentObject=null),T.attribs={},v=this.attribs;for(y in v)O.call(v,y)&&(f=v[y],T.attribs[y]=f.clone());return T.children=[],this.children.forEach(function(L){var P;return P=L.clone(),P.parent=T,T.children.push(P)}),T},g.prototype.attribute=function(f,y){var T,v;if(f!=null&&(f=d(f)),h(f))for(T in f)O.call(f,T)&&(v=f[T],this.attribute(T,v));else a(y)&&(y=y.apply()),this.options.keepNullAttributes&&y==null?this.attribs[f]=new o(this,f,""):y!=null&&(this.attribs[f]=new o(this,f,y));return this},g.prototype.removeAttribute=function(f){var y,T,v;if(f==null)throw new Error("Missing attribute name. "+this.debugInfo());if(f=d(f),Array.isArray(f))for(T=0,v=f.length;T<v;T++)y=f[T],delete this.attribs[y];else delete this.attribs[f];return this},g.prototype.toString=function(f){return this.options.writer.element(this,this.options.writer.filterOptions(f))},g.prototype.att=function(f,y){return this.attribute(f,y)},g.prototype.a=function(f,y){return this.attribute(f,y)},g.prototype.getAttribute=function(f){return this.attribs.hasOwnProperty(f)?this.attribs[f].value:null},g.prototype.setAttribute=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getAttributeNode=function(f){return this.attribs.hasOwnProperty(f)?this.attribs[f]:null},g.prototype.setAttributeNode=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.removeAttributeNode=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByTagName=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getAttributeNS=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.setAttributeNS=function(f,y,T){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.removeAttributeNS=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getAttributeNodeNS=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.setAttributeNodeNS=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByTagNameNS=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.hasAttribute=function(f){return this.attribs.hasOwnProperty(f)},g.prototype.hasAttributeNS=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.setIdAttribute=function(f,y){return this.attribs.hasOwnProperty(f)?this.attribs[f].isId:y},g.prototype.setIdAttributeNS=function(f,y,T){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.setIdAttributeNode=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByTagName=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByTagNameNS=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByClassName=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.isEqualNode=function(f){var y,T,v;if(!g.__super__.isEqualNode.apply(this,arguments).isEqualNode(f)||f.namespaceURI!==this.namespaceURI||f.prefix!==this.prefix||f.localName!==this.localName||f.attribs.length!==this.attribs.length)return!1;for(y=T=0,v=this.attribs.length-1;0<=v?T<=v:T>=v;y=0<=v?++T:--T)if(!this.attribs[y].isEqualNode(f.attribs[y]))return!1;return!0},g}(s)}).call(le)});var at=X((fe,pe)=>{(function(){var u,o,b=function(s,d){for(var a in d)D.call(d,a)&&(s[a]=d[a]);function h(){this.constructor=s}return h.prototype=d.prototype,s.prototype=new h,s.__super__=d.prototype,s},D={}.hasOwnProperty;o=$(),pe.exports=u=function(s){b(d,s);function d(a){d.__super__.constructor.call(this,a),this.value=""}return Object.defineProperty(d.prototype,"data",{get:function(){return this.value},set:function(a){return this.value=a||""}}),Object.defineProperty(d.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(d.prototype,"textContent",{get:function(){return this.value},set:function(a){return this.value=a||""}}),d.prototype.clone=function(){return Object.create(this)},d.prototype.substringData=function(a,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.appendData=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.insertData=function(a,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.deleteData=function(a,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.replaceData=function(a,h,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.isEqualNode=function(a){return!(!d.__super__.isEqualNode.apply(this,arguments).isEqualNode(a)||a.data!==this.data)},d}(o)}).call(fe)});var dt=X((de,me)=>{(function(){var u,o,b,D=function(d,a){for(var h in a)s.call(a,h)&&(d[h]=a[h]);function m(){this.constructor=d}return m.prototype=a.prototype,d.prototype=new m,d.__super__=a.prototype,d},s={}.hasOwnProperty;u=k(),b=at(),me.exports=o=function(d){D(a,d);function a(h,m){if(a.__super__.constructor.call(this,h),m==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=u.CData,this.value=this.stringify.cdata(m)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(h){return this.options.writer.cdata(this,this.options.writer.filterOptions(h))},a}(b)}).call(de)});var mt=X((ye,ge)=>{(function(){var u,o,b,D=function(d,a){for(var h in a)s.call(a,h)&&(d[h]=a[h]);function m(){this.constructor=d}return m.prototype=a.prototype,d.prototype=new m,d.__super__=a.prototype,d},s={}.hasOwnProperty;u=k(),o=at(),ge.exports=b=function(d){D(a,d);function a(h,m){if(a.__super__.constructor.call(this,h),m==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=u.Comment,this.value=this.stringify.comment(m)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(h){return this.options.writer.comment(this,this.options.writer.filterOptions(h))},a}(o)}).call(ye)});var yt=X((we,Te)=>{(function(){var u,o,b,D,s=function(a,h){for(var m in h)d.call(h,m)&&(a[m]=h[m]);function w(){this.constructor=a}return w.prototype=h.prototype,a.prototype=new w,a.__super__=h.prototype,a},d={}.hasOwnProperty;D=Q().isObject,b=$(),u=k(),Te.exports=o=function(a){s(h,a);function h(m,w,O,I){var g;h.__super__.constructor.call(this,m),D(w)&&(g=w,w=g.version,O=g.encoding,I=g.standalone),w||(w="1.0"),this.type=u.Declaration,this.version=this.stringify.xmlVersion(w),O!=null&&(this.encoding=this.stringify.xmlEncoding(O)),I!=null&&(this.standalone=this.stringify.xmlStandalone(I))}return h.prototype.toString=function(m){return this.options.writer.declaration(this,this.options.writer.filterOptions(m))},h}(b)}).call(we)});var gt=X((De,Ee)=>{(function(){var u,o,b,D=function(d,a){for(var h in a)s.call(a,h)&&(d[h]=a[h]);function m(){this.constructor=d}return m.prototype=a.prototype,d.prototype=new m,d.__super__=a.prototype,d},s={}.hasOwnProperty;b=$(),u=k(),Ee.exports=o=function(d){D(a,d);function a(h,m,w,O,I,g){if(a.__super__.constructor.call(this,h),m==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(w==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(m));if(!O)throw new Error("Missing DTD attribute type. "+this.debugInfo(m));if(!I)throw new Error("Missing DTD attribute default. "+this.debugInfo(m));if(I.indexOf("#")!==0&&(I="#"+I),!I.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(m));if(g&&!I.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(m));this.elementName=this.stringify.name(m),this.type=u.AttributeDeclaration,this.attributeName=this.stringify.name(w),this.attributeType=this.stringify.dtdAttType(O),g&&(this.defaultValue=this.stringify.dtdAttDefault(g)),this.defaultValueType=I}return a.prototype.toString=function(h){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(h))},a}(b)}).call(De)});var wt=X((be,Ne)=>{(function(){var u,o,b,D,s=function(a,h){for(var m in h)d.call(h,m)&&(a[m]=h[m]);function w(){this.constructor=a}return w.prototype=h.prototype,a.prototype=new w,a.__super__=h.prototype,a},d={}.hasOwnProperty;D=Q().isObject,b=$(),u=k(),Ne.exports=o=function(a){s(h,a);function h(m,w,O,I){if(h.__super__.constructor.call(this,m),O==null)throw new Error("Missing DTD entity name. "+this.debugInfo(O));if(I==null)throw new Error("Missing DTD entity value. "+this.debugInfo(O));if(this.pe=!!w,this.name=this.stringify.name(O),this.type=u.EntityDeclaration,!D(I))this.value=this.stringify.dtdEntityValue(I),this.internal=!0;else{if(!I.pubID&&!I.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(O));if(I.pubID&&!I.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(O));if(this.internal=!1,I.pubID!=null&&(this.pubID=this.stringify.dtdPubID(I.pubID)),I.sysID!=null&&(this.sysID=this.stringify.dtdSysID(I.sysID)),I.nData!=null&&(this.nData=this.stringify.dtdNData(I.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(O))}}return Object.defineProperty(h.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(h.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(h.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(h.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(h.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(h.prototype,"xmlVersion",{get:function(){return null}}),h.prototype.toString=function(m){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(m))},h}(b)}).call(be)});var Tt=X((Ie,Oe)=>{(function(){var u,o,b,D=function(d,a){for(var h in a)s.call(a,h)&&(d[h]=a[h]);function m(){this.constructor=d}return m.prototype=a.prototype,d.prototype=new m,d.__super__=a.prototype,d},s={}.hasOwnProperty;b=$(),u=k(),Oe.exports=o=function(d){D(a,d);function a(h,m,w){if(a.__super__.constructor.call(this,h),m==null)throw new Error("Missing DTD element name. "+this.debugInfo());w||(w="(#PCDATA)"),Array.isArray(w)&&(w="("+w.join(",")+")"),this.name=this.stringify.name(m),this.type=u.ElementDeclaration,this.value=this.stringify.dtdElementValue(w)}return a.prototype.toString=function(h){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(h))},a}(b)}).call(Ie)});var Dt=X((Pe,_e)=>{(function(){var u,o,b,D=function(d,a){for(var h in a)s.call(a,h)&&(d[h]=a[h]);function m(){this.constructor=d}return m.prototype=a.prototype,d.prototype=new m,d.__super__=a.prototype,d},s={}.hasOwnProperty;b=$(),u=k(),_e.exports=o=function(d){D(a,d);function a(h,m,w){if(a.__super__.constructor.call(this,h),m==null)throw new Error("Missing DTD notation name. "+this.debugInfo(m));if(!w.pubID&&!w.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(m));this.name=this.stringify.name(m),this.type=u.NotationDeclaration,w.pubID!=null&&(this.pubID=this.stringify.dtdPubID(w.pubID)),w.sysID!=null&&(this.sysID=this.stringify.dtdSysID(w.sysID))}return Object.defineProperty(a.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(a.prototype,"systemId",{get:function(){return this.sysID}}),a.prototype.toString=function(h){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(h))},a}(b)}).call(Pe)});var Et=X((Ce,Ae)=>{(function(){var u,o,b,D,s,d,a,h,m,w=function(I,g){for(var f in g)O.call(g,f)&&(I[f]=g[f]);function y(){this.constructor=I}return y.prototype=g.prototype,I.prototype=new y,I.__super__=g.prototype,I},O={}.hasOwnProperty;m=Q().isObject,h=$(),u=k(),o=gt(),D=wt(),b=Tt(),s=Dt(),a=ft(),Ae.exports=d=function(I){w(g,I);function g(f,y,T){var v,L,P,l,i,e;if(g.__super__.constructor.call(this,f),this.type=u.DocType,f.children){for(l=f.children,L=0,P=l.length;L<P;L++)if(v=l[L],v.type===u.Element){this.name=v.name;break}}this.documentObject=f,m(y)&&(i=y,y=i.pubID,T=i.sysID),T==null&&(e=[y,T],T=e[0],y=e[1]),y!=null&&(this.pubID=this.stringify.dtdPubID(y)),T!=null&&(this.sysID=this.stringify.dtdSysID(T))}return Object.defineProperty(g.prototype,"entities",{get:function(){var f,y,T,v,L;for(v={},L=this.children,y=0,T=L.length;y<T;y++)f=L[y],f.type===u.EntityDeclaration&&!f.pe&&(v[f.name]=f);return new a(v)}}),Object.defineProperty(g.prototype,"notations",{get:function(){var f,y,T,v,L;for(v={},L=this.children,y=0,T=L.length;y<T;y++)f=L[y],f.type===u.NotationDeclaration&&(v[f.name]=f);return new a(v)}}),Object.defineProperty(g.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(g.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(g.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),g.prototype.element=function(f,y){var T;return T=new b(this,f,y),this.children.push(T),this},g.prototype.attList=function(f,y,T,v,L){var P;return P=new o(this,f,y,T,v,L),this.children.push(P),this},g.prototype.entity=function(f,y){var T;return T=new D(this,!1,f,y),this.children.push(T),this},g.prototype.pEntity=function(f,y){var T;return T=new D(this,!0,f,y),this.children.push(T),this},g.prototype.notation=function(f,y){var T;return T=new s(this,f,y),this.children.push(T),this},g.prototype.toString=function(f){return this.options.writer.docType(this,this.options.writer.filterOptions(f))},g.prototype.ele=function(f,y){return this.element(f,y)},g.prototype.att=function(f,y,T,v,L){return this.attList(f,y,T,v,L)},g.prototype.ent=function(f,y){return this.entity(f,y)},g.prototype.pent=function(f,y){return this.pEntity(f,y)},g.prototype.not=function(f,y){return this.notation(f,y)},g.prototype.up=function(){return this.root()||this.documentObject},g.prototype.isEqualNode=function(f){return!(!g.__super__.isEqualNode.apply(this,arguments).isEqualNode(f)||f.name!==this.name||f.publicId!==this.publicId||f.systemId!==this.systemId)},g}(h)}).call(Ce)});var bt=X((Le,Me)=>{(function(){var u,o,b,D=function(d,a){for(var h in a)s.call(a,h)&&(d[h]=a[h]);function m(){this.constructor=d}return m.prototype=a.prototype,d.prototype=new m,d.__super__=a.prototype,d},s={}.hasOwnProperty;u=k(),o=$(),Me.exports=b=function(d){D(a,d);function a(h,m){if(a.__super__.constructor.call(this,h),m==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=u.Raw,this.value=this.stringify.raw(m)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(h){return this.options.writer.raw(this,this.options.writer.filterOptions(h))},a}(o)}).call(Le)});var Nt=X((ve,Se)=>{(function(){var u,o,b,D=function(d,a){for(var h in a)s.call(a,h)&&(d[h]=a[h]);function m(){this.constructor=d}return m.prototype=a.prototype,d.prototype=new m,d.__super__=a.prototype,d},s={}.hasOwnProperty;u=k(),o=at(),Se.exports=b=function(d){D(a,d);function a(h,m){if(a.__super__.constructor.call(this,h),m==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=u.Text,this.value=this.stringify.text(m)}return Object.defineProperty(a.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"wholeText",{get:function(){var h,m,w;for(w="",m=this.previousSibling;m;)w=m.data+w,m=m.previousSibling;for(w+=this.data,h=this.nextSibling;h;)w=w+h.data,h=h.nextSibling;return w}}),a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(h){return this.options.writer.text(this,this.options.writer.filterOptions(h))},a.prototype.splitText=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.replaceWholeText=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},a}(o)}).call(ve)});var It=X((xe,Fe)=>{(function(){var u,o,b,D=function(d,a){for(var h in a)s.call(a,h)&&(d[h]=a[h]);function m(){this.constructor=d}return m.prototype=a.prototype,d.prototype=new m,d.__super__=a.prototype,d},s={}.hasOwnProperty;u=k(),o=at(),Fe.exports=b=function(d){D(a,d);function a(h,m,w){if(a.__super__.constructor.call(this,h),m==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=u.ProcessingInstruction,this.target=this.stringify.insTarget(m),this.name=this.target,w&&(this.value=this.stringify.insValue(w))}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(h){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(h))},a.prototype.isEqualNode=function(h){return!(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(h)||h.target!==this.target)},a}(o)}).call(xe)});var vt=X((Xe,qe)=>{(function(){var u,o,b,D=function(d,a){for(var h in a)s.call(a,h)&&(d[h]=a[h]);function m(){this.constructor=d}return m.prototype=a.prototype,d.prototype=new m,d.__super__=a.prototype,d},s={}.hasOwnProperty;b=$(),u=k(),qe.exports=o=function(d){D(a,d);function a(h){a.__super__.constructor.call(this,h),this.type=u.Dummy}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(h){return""},a}(b)}).call(Xe)});var Be=X((Re,je)=>{(function(){var u;je.exports=u=function(){function o(b){this.nodes=b}return Object.defineProperty(o.prototype,"length",{get:function(){return this.nodes.length||0}}),o.prototype.clone=function(){return this.nodes=null},o.prototype.item=function(b){return this.nodes[b]||null},o}()}).call(Re)});var Ve=X((Ue,ke)=>{(function(){ke.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(Ue)});var $=X((Ge,We)=>{(function(){var u,o,b,D,s,d,a,h,m,w,O,I,g,f,y,T,v,L,P,l={}.hasOwnProperty;P=Q(),L=P.isObject,v=P.isFunction,T=P.isEmpty,y=P.getValue,h=null,b=null,D=null,s=null,d=null,g=null,f=null,I=null,a=null,o=null,O=null,m=null,u=null,We.exports=w=function(){function i(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,h||(h=pt(),b=dt(),D=mt(),s=yt(),d=Et(),g=bt(),f=Nt(),I=It(),a=vt(),o=k(),O=Be(),m=ft(),u=Ve())}return Object.defineProperty(i.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(i.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(i.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(i.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(i.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new O(this.children)),this.childNodeList}}),Object.defineProperty(i.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(i.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(i.prototype,"previousSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e-1]||null}}),Object.defineProperty(i.prototype,"nextSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e+1]||null}}),Object.defineProperty(i.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(i.prototype,"textContent",{get:function(){var e,c,_,r,C;if(this.nodeType===o.Element||this.nodeType===o.DocumentFragment){for(C="",r=this.children,c=0,_=r.length;c<_;c++)e=r[c],e.textContent&&(C+=e.textContent);return C}else return null},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),i.prototype.setParent=function(e){var c,_,r,C,p;for(this.parent=e,e&&(this.options=e.options,this.stringify=e.stringify),C=this.children,p=[],_=0,r=C.length;_<r;_++)c=C[_],p.push(c.setParent(this));return p},i.prototype.element=function(e,c,_){var r,C,p,N,M,S,q,R,F,V,j;if(S=null,c===null&&_==null&&(F=[{},null],c=F[0],_=F[1]),c==null&&(c={}),c=y(c),L(c)||(V=[c,_],_=V[0],c=V[1]),e!=null&&(e=y(e)),Array.isArray(e))for(p=0,q=e.length;p<q;p++)C=e[p],S=this.element(C);else if(v(e))S=this.element(e.apply());else if(L(e)){for(M in e)if(l.call(e,M))if(j=e[M],v(j)&&(j=j.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&M.indexOf(this.stringify.convertAttKey)===0)S=this.attribute(M.substr(this.stringify.convertAttKey.length),j);else if(!this.options.separateArrayItems&&Array.isArray(j)&&T(j))S=this.dummy();else if(L(j)&&T(j))S=this.element(M);else if(!this.options.keepNullNodes&&j==null)S=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(j))for(N=0,R=j.length;N<R;N++)C=j[N],r={},r[M]=C,S=this.element(r);else L(j)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&M.indexOf(this.stringify.convertTextKey)===0?S=this.element(j):(S=this.element(M),S.element(j)):S=this.element(M,j)}else!this.options.keepNullNodes&&_===null?S=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&e.indexOf(this.stringify.convertTextKey)===0?S=this.text(_):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&e.indexOf(this.stringify.convertCDataKey)===0?S=this.cdata(_):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&e.indexOf(this.stringify.convertCommentKey)===0?S=this.comment(_):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&e.indexOf(this.stringify.convertRawKey)===0?S=this.raw(_):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&e.indexOf(this.stringify.convertPIKey)===0?S=this.instruction(e.substr(this.stringify.convertPIKey.length),_):S=this.node(e,c,_);if(S==null)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return S},i.prototype.insertBefore=function(e,c,_){var r,C,p,N,M;if(e?.type)return p=e,N=c,p.setParent(this),N?(C=children.indexOf(N),M=children.splice(C),children.push(p),Array.prototype.push.apply(children,M)):children.push(p),p;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return C=this.parent.children.indexOf(this),M=this.parent.children.splice(C),r=this.parent.element(e,c,_),Array.prototype.push.apply(this.parent.children,M),r},i.prototype.insertAfter=function(e,c,_){var r,C,p;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return C=this.parent.children.indexOf(this),p=this.parent.children.splice(C+1),r=this.parent.element(e,c,_),Array.prototype.push.apply(this.parent.children,p),r},i.prototype.remove=function(){var e,c;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat(c=[])),this.parent},i.prototype.node=function(e,c,_){var r,C;return e!=null&&(e=y(e)),c||(c={}),c=y(c),L(c)||(C=[c,_],_=C[0],c=C[1]),r=new h(this,e,c),_!=null&&r.text(_),this.children.push(r),r},i.prototype.text=function(e){var c;return L(e)&&this.element(e),c=new f(this,e),this.children.push(c),this},i.prototype.cdata=function(e){var c;return c=new b(this,e),this.children.push(c),this},i.prototype.comment=function(e){var c;return c=new D(this,e),this.children.push(c),this},i.prototype.commentBefore=function(e){var c,_,r;return _=this.parent.children.indexOf(this),r=this.parent.children.splice(_),c=this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this},i.prototype.commentAfter=function(e){var c,_,r;return _=this.parent.children.indexOf(this),r=this.parent.children.splice(_+1),c=this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this},i.prototype.raw=function(e){var c;return c=new g(this,e),this.children.push(c),this},i.prototype.dummy=function(){var e;return e=new a(this),e},i.prototype.instruction=function(e,c){var _,r,C,p,N;if(e!=null&&(e=y(e)),c!=null&&(c=y(c)),Array.isArray(e))for(p=0,N=e.length;p<N;p++)_=e[p],this.instruction(_);else if(L(e))for(_ in e)l.call(e,_)&&(r=e[_],this.instruction(_,r));else v(c)&&(c=c.apply()),C=new I(this,e,c),this.children.push(C);return this},i.prototype.instructionBefore=function(e,c){var _,r,C;return r=this.parent.children.indexOf(this),C=this.parent.children.splice(r),_=this.parent.instruction(e,c),Array.prototype.push.apply(this.parent.children,C),this},i.prototype.instructionAfter=function(e,c){var _,r,C;return r=this.parent.children.indexOf(this),C=this.parent.children.splice(r+1),_=this.parent.instruction(e,c),Array.prototype.push.apply(this.parent.children,C),this},i.prototype.declaration=function(e,c,_){var r,C;return r=this.document(),C=new s(r,e,c,_),r.children.length===0?r.children.unshift(C):r.children[0].type===o.Declaration?r.children[0]=C:r.children.unshift(C),r.root()||r},i.prototype.dtd=function(e,c){var _,r,C,p,N,M,S,q,R,F;for(r=this.document(),C=new d(r,e,c),R=r.children,p=N=0,S=R.length;N<S;p=++N)if(_=R[p],_.type===o.DocType)return r.children[p]=C,C;for(F=r.children,p=M=0,q=F.length;M<q;p=++M)if(_=F[p],_.isRoot)return r.children.splice(p,0,C),C;return r.children.push(C),C},i.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},i.prototype.root=function(){var e;for(e=this;e;){if(e.type===o.Document)return e.rootObject;if(e.isRoot)return e;e=e.parent}},i.prototype.document=function(){var e;for(e=this;e;){if(e.type===o.Document)return e;e=e.parent}},i.prototype.end=function(e){return this.document().end(e)},i.prototype.prev=function(){var e;if(e=this.parent.children.indexOf(this),e<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},i.prototype.next=function(){var e;if(e=this.parent.children.indexOf(this),e===-1||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},i.prototype.importDocument=function(e){var c;return c=e.root().clone(),c.parent=this,c.isRoot=!1,this.children.push(c),this},i.prototype.debugInfo=function(e){var c,_;return e=e||this.name,e==null&&!((c=this.parent)!=null&&c.name)?"":e==null?"parent: <"+this.parent.name+">":(_=this.parent)!=null&&_.name?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">"},i.prototype.ele=function(e,c,_){return this.element(e,c,_)},i.prototype.nod=function(e,c,_){return this.node(e,c,_)},i.prototype.txt=function(e){return this.text(e)},i.prototype.dat=function(e){return this.cdata(e)},i.prototype.com=function(e){return this.comment(e)},i.prototype.ins=function(e,c){return this.instruction(e,c)},i.prototype.doc=function(){return this.document()},i.prototype.dec=function(e,c,_){return this.declaration(e,c,_)},i.prototype.e=function(e,c,_){return this.element(e,c,_)},i.prototype.n=function(e,c,_){return this.node(e,c,_)},i.prototype.t=function(e){return this.text(e)},i.prototype.d=function(e){return this.cdata(e)},i.prototype.c=function(e){return this.comment(e)},i.prototype.r=function(e){return this.raw(e)},i.prototype.i=function(e,c){return this.instruction(e,c)},i.prototype.u=function(){return this.up()},i.prototype.importXMLBuilder=function(e){return this.importDocument(e)},i.prototype.replaceChild=function(e,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.hasChildNodes=function(){return this.children.length!==0},i.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.isSupported=function(e,c){return!0},i.prototype.hasAttributes=function(){return this.attribs.length!==0},i.prototype.compareDocumentPosition=function(e){var c,_;return c=this,c===e?0:this.document()!==e.document()?(_=u.Disconnected|u.ImplementationSpecific,Math.random()<.5?_|=u.Preceding:_|=u.Following,_):c.isAncestor(e)?u.Contains|u.Preceding:c.isDescendant(e)?u.Contains|u.Following:c.isPreceding(e)?u.Preceding:u.Following},i.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.isEqualNode=function(e){var c,_,r;if(e.nodeType!==this.nodeType||e.children.length!==this.children.length)return!1;for(c=_=0,r=this.children.length-1;0<=r?_<=r:_>=r;c=0<=r?++_:--_)if(!this.children[c].isEqualNode(e.children[c]))return!1;return!0},i.prototype.getFeature=function(e,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.setUserData=function(e,c,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.contains=function(e){return e?e===this||this.isDescendant(e):!1},i.prototype.isDescendant=function(e){var c,_,r,C,p;for(p=this.children,r=0,C=p.length;r<C;r++)if(c=p[r],e===c||(_=c.isDescendant(e),_))return!0;return!1},i.prototype.isAncestor=function(e){return e.isDescendant(this)},i.prototype.isPreceding=function(e){var c,_;return c=this.treePosition(e),_=this.treePosition(this),c===-1||_===-1?!1:c<_},i.prototype.isFollowing=function(e){var c,_;return c=this.treePosition(e),_=this.treePosition(this),c===-1||_===-1?!1:c>_},i.prototype.treePosition=function(e){var c,_;return _=0,c=!1,this.foreachTreeNode(this.document(),function(r){if(_++,!c&&r===e)return c=!0}),c?_:-1},i.prototype.foreachTreeNode=function(e,c){var _,r,C,p,N;for(e||(e=this.document()),p=e.children,r=0,C=p.length;r<C;r++){if(_=p[r],N=c(_))return N;if(N=this.foreachTreeNode(_,c),N)return N}},i}()}).call(Ge)});var St=X((Ye,Ke)=>{(function(){var u,o=function(D,s){return function(){return D.apply(s,arguments)}},b={}.hasOwnProperty;Ke.exports=u=function(){function D(s){this.assertLegalName=o(this.assertLegalName,this),this.assertLegalChar=o(this.assertLegalChar,this);var d,a,h;s||(s={}),this.options=s,this.options.version||(this.options.version="1.0"),a=s.stringify||{};for(d in a)b.call(a,d)&&(h=a[d],this[d]=h)}return D.prototype.name=function(s){return this.options.noValidation?s:this.assertLegalName(""+s||"")},D.prototype.text=function(s){return this.options.noValidation?s:this.assertLegalChar(this.textEscape(""+s||""))},D.prototype.cdata=function(s){return this.options.noValidation?s:(s=""+s||"",s=s.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(s))},D.prototype.comment=function(s){if(this.options.noValidation)return s;if(s=""+s||"",s.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+s);return this.assertLegalChar(s)},D.prototype.raw=function(s){return this.options.noValidation?s:""+s||""},D.prototype.attValue=function(s){return this.options.noValidation?s:this.assertLegalChar(this.attEscape(s=""+s||""))},D.prototype.insTarget=function(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")},D.prototype.insValue=function(s){if(this.options.noValidation)return s;if(s=""+s||"",s.match(/\?>/))throw new Error("Invalid processing instruction value: "+s);return this.assertLegalChar(s)},D.prototype.xmlVersion=function(s){if(this.options.noValidation)return s;if(s=""+s||"",!s.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+s);return s},D.prototype.xmlEncoding=function(s){if(this.options.noValidation)return s;if(s=""+s||"",!s.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+s);return this.assertLegalChar(s)},D.prototype.xmlStandalone=function(s){return this.options.noValidation?s:s?"yes":"no"},D.prototype.dtdPubID=function(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")},D.prototype.dtdSysID=function(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")},D.prototype.dtdElementValue=function(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")},D.prototype.dtdAttType=function(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")},D.prototype.dtdAttDefault=function(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")},D.prototype.dtdEntityValue=function(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")},D.prototype.dtdNData=function(s){return this.options.noValidation?s:this.assertLegalChar(""+s||"")},D.prototype.convertAttKey="@",D.prototype.convertPIKey="?",D.prototype.convertTextKey="#text",D.prototype.convertCDataKey="#cdata",D.prototype.convertCommentKey="#comment",D.prototype.convertRawKey="#raw",D.prototype.assertLegalChar=function(s){var d,a;if(this.options.noValidation)return s;if(d="",this.options.version==="1.0"){if(d=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,a=s.match(d))throw new Error("Invalid character in string: "+s+" at index "+a.index)}else if(this.options.version==="1.1"&&(d=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,a=s.match(d)))throw new Error("Invalid character in string: "+s+" at index "+a.index);return s},D.prototype.assertLegalName=function(s){var d;if(this.options.noValidation)return s;if(this.assertLegalChar(s),d=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!s.match(d))throw new Error("Invalid character in name");return s},D.prototype.textEscape=function(s){var d;return this.options.noValidation?s:(d=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,s.replace(d,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},D.prototype.attEscape=function(s){var d;return this.options.noValidation?s:(d=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,s.replace(d,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},D}()}).call(Ye)});var ut=X((ze,$e)=>{(function(){$e.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(ze)});var xt=X((He,Qe)=>{(function(){var u,o,b,D,s,d,a,h,m,w,O,I,g,f,y,T,v,L={}.hasOwnProperty;v=Q().assign,u=k(),m=yt(),w=Et(),b=dt(),D=mt(),I=pt(),f=bt(),y=Nt(),g=It(),O=vt(),s=gt(),d=Tt(),a=wt(),h=Dt(),o=ut(),Qe.exports=T=function(){function P(l){var i,e,c;l||(l={}),this.options=l,e=l.writer||{};for(i in e)L.call(e,i)&&(c=e[i],this["_"+i]=this[i],this[i]=c)}return P.prototype.filterOptions=function(l){var i,e,c,_,r,C,p,N;return l||(l={}),l=v({},this.options,l),i={writer:this},i.pretty=l.pretty||!1,i.allowEmpty=l.allowEmpty||!1,i.indent=(e=l.indent)!=null?e:"  ",i.newline=(c=l.newline)!=null?c:`
`,i.offset=(_=l.offset)!=null?_:0,i.dontPrettyTextNodes=(r=(C=l.dontPrettyTextNodes)!=null?C:l.dontprettytextnodes)!=null?r:0,i.spaceBeforeSlash=(p=(N=l.spaceBeforeSlash)!=null?N:l.spacebeforeslash)!=null?p:"",i.spaceBeforeSlash===!0&&(i.spaceBeforeSlash=" "),i.suppressPrettyCount=0,i.user={},i.state=o.None,i},P.prototype.indent=function(l,i,e){var c;return!i.pretty||i.suppressPrettyCount?"":i.pretty&&(c=(e||0)+i.offset+1,c>0)?new Array(c).join(i.indent):""},P.prototype.endline=function(l,i,e){return!i.pretty||i.suppressPrettyCount?"":i.newline},P.prototype.attribute=function(l,i,e){var c;return this.openAttribute(l,i,e),c=" "+l.name+'="'+l.value+'"',this.closeAttribute(l,i,e),c},P.prototype.cdata=function(l,i,e){var c;return this.openNode(l,i,e),i.state=o.OpenTag,c=this.indent(l,i,e)+"<![CDATA[",i.state=o.InsideTag,c+=l.value,i.state=o.CloseTag,c+="]]>"+this.endline(l,i,e),i.state=o.None,this.closeNode(l,i,e),c},P.prototype.comment=function(l,i,e){var c;return this.openNode(l,i,e),i.state=o.OpenTag,c=this.indent(l,i,e)+"<!-- ",i.state=o.InsideTag,c+=l.value,i.state=o.CloseTag,c+=" -->"+this.endline(l,i,e),i.state=o.None,this.closeNode(l,i,e),c},P.prototype.declaration=function(l,i,e){var c;return this.openNode(l,i,e),i.state=o.OpenTag,c=this.indent(l,i,e)+"<?xml",i.state=o.InsideTag,c+=' version="'+l.version+'"',l.encoding!=null&&(c+=' encoding="'+l.encoding+'"'),l.standalone!=null&&(c+=' standalone="'+l.standalone+'"'),i.state=o.CloseTag,c+=i.spaceBeforeSlash+"?>",c+=this.endline(l,i,e),i.state=o.None,this.closeNode(l,i,e),c},P.prototype.docType=function(l,i,e){var c,_,r,C,p;if(e||(e=0),this.openNode(l,i,e),i.state=o.OpenTag,C=this.indent(l,i,e),C+="<!DOCTYPE "+l.root().name,l.pubID&&l.sysID?C+=' PUBLIC "'+l.pubID+'" "'+l.sysID+'"':l.sysID&&(C+=' SYSTEM "'+l.sysID+'"'),l.children.length>0){for(C+=" [",C+=this.endline(l,i,e),i.state=o.InsideTag,p=l.children,_=0,r=p.length;_<r;_++)c=p[_],C+=this.writeChildNode(c,i,e+1);i.state=o.CloseTag,C+="]"}return i.state=o.CloseTag,C+=i.spaceBeforeSlash+">",C+=this.endline(l,i,e),i.state=o.None,this.closeNode(l,i,e),C},P.prototype.element=function(l,i,e){var c,_,r,C,p,N,M,S,q,R,F,V,j,nt;e||(e=0),R=!1,F="",this.openNode(l,i,e),i.state=o.OpenTag,F+=this.indent(l,i,e)+"<"+l.name,V=l.attribs;for(q in V)L.call(V,q)&&(c=V[q],F+=this.attribute(c,i,e));if(r=l.children.length,C=r===0?null:l.children[0],r===0||l.children.every(function(H){return(H.type===u.Text||H.type===u.Raw)&&H.value===""}))i.allowEmpty?(F+=">",i.state=o.CloseTag,F+="</"+l.name+">"+this.endline(l,i,e)):(i.state=o.CloseTag,F+=i.spaceBeforeSlash+"/>"+this.endline(l,i,e));else if(i.pretty&&r===1&&(C.type===u.Text||C.type===u.Raw)&&C.value!=null)F+=">",i.state=o.InsideTag,i.suppressPrettyCount++,R=!0,F+=this.writeChildNode(C,i,e+1),i.suppressPrettyCount--,R=!1,i.state=o.CloseTag,F+="</"+l.name+">"+this.endline(l,i,e);else{if(i.dontPrettyTextNodes){for(j=l.children,p=0,M=j.length;p<M;p++)if(_=j[p],(_.type===u.Text||_.type===u.Raw)&&_.value!=null){i.suppressPrettyCount++,R=!0;break}}for(F+=">"+this.endline(l,i,e),i.state=o.InsideTag,nt=l.children,N=0,S=nt.length;N<S;N++)_=nt[N],F+=this.writeChildNode(_,i,e+1);i.state=o.CloseTag,F+=this.indent(l,i,e)+"</"+l.name+">",R&&i.suppressPrettyCount--,F+=this.endline(l,i,e),i.state=o.None}return this.closeNode(l,i,e),F},P.prototype.writeChildNode=function(l,i,e){switch(l.type){case u.CData:return this.cdata(l,i,e);case u.Comment:return this.comment(l,i,e);case u.Element:return this.element(l,i,e);case u.Raw:return this.raw(l,i,e);case u.Text:return this.text(l,i,e);case u.ProcessingInstruction:return this.processingInstruction(l,i,e);case u.Dummy:return"";case u.Declaration:return this.declaration(l,i,e);case u.DocType:return this.docType(l,i,e);case u.AttributeDeclaration:return this.dtdAttList(l,i,e);case u.ElementDeclaration:return this.dtdElement(l,i,e);case u.EntityDeclaration:return this.dtdEntity(l,i,e);case u.NotationDeclaration:return this.dtdNotation(l,i,e);default:throw new Error("Unknown XML node type: "+l.constructor.name)}},P.prototype.processingInstruction=function(l,i,e){var c;return this.openNode(l,i,e),i.state=o.OpenTag,c=this.indent(l,i,e)+"<?",i.state=o.InsideTag,c+=l.target,l.value&&(c+=" "+l.value),i.state=o.CloseTag,c+=i.spaceBeforeSlash+"?>",c+=this.endline(l,i,e),i.state=o.None,this.closeNode(l,i,e),c},P.prototype.raw=function(l,i,e){var c;return this.openNode(l,i,e),i.state=o.OpenTag,c=this.indent(l,i,e),i.state=o.InsideTag,c+=l.value,i.state=o.CloseTag,c+=this.endline(l,i,e),i.state=o.None,this.closeNode(l,i,e),c},P.prototype.text=function(l,i,e){var c;return this.openNode(l,i,e),i.state=o.OpenTag,c=this.indent(l,i,e),i.state=o.InsideTag,c+=l.value,i.state=o.CloseTag,c+=this.endline(l,i,e),i.state=o.None,this.closeNode(l,i,e),c},P.prototype.dtdAttList=function(l,i,e){var c;return this.openNode(l,i,e),i.state=o.OpenTag,c=this.indent(l,i,e)+"<!ATTLIST",i.state=o.InsideTag,c+=" "+l.elementName+" "+l.attributeName+" "+l.attributeType,l.defaultValueType!=="#DEFAULT"&&(c+=" "+l.defaultValueType),l.defaultValue&&(c+=' "'+l.defaultValue+'"'),i.state=o.CloseTag,c+=i.spaceBeforeSlash+">"+this.endline(l,i,e),i.state=o.None,this.closeNode(l,i,e),c},P.prototype.dtdElement=function(l,i,e){var c;return this.openNode(l,i,e),i.state=o.OpenTag,c=this.indent(l,i,e)+"<!ELEMENT",i.state=o.InsideTag,c+=" "+l.name+" "+l.value,i.state=o.CloseTag,c+=i.spaceBeforeSlash+">"+this.endline(l,i,e),i.state=o.None,this.closeNode(l,i,e),c},P.prototype.dtdEntity=function(l,i,e){var c;return this.openNode(l,i,e),i.state=o.OpenTag,c=this.indent(l,i,e)+"<!ENTITY",i.state=o.InsideTag,l.pe&&(c+=" %"),c+=" "+l.name,l.value?c+=' "'+l.value+'"':(l.pubID&&l.sysID?c+=' PUBLIC "'+l.pubID+'" "'+l.sysID+'"':l.sysID&&(c+=' SYSTEM "'+l.sysID+'"'),l.nData&&(c+=" NDATA "+l.nData)),i.state=o.CloseTag,c+=i.spaceBeforeSlash+">"+this.endline(l,i,e),i.state=o.None,this.closeNode(l,i,e),c},P.prototype.dtdNotation=function(l,i,e){var c;return this.openNode(l,i,e),i.state=o.OpenTag,c=this.indent(l,i,e)+"<!NOTATION",i.state=o.InsideTag,c+=" "+l.name,l.pubID&&l.sysID?c+=' PUBLIC "'+l.pubID+'" "'+l.sysID+'"':l.pubID?c+=' PUBLIC "'+l.pubID+'"':l.sysID&&(c+=' SYSTEM "'+l.sysID+'"'),i.state=o.CloseTag,c+=i.spaceBeforeSlash+">"+this.endline(l,i,e),i.state=o.None,this.closeNode(l,i,e),c},P.prototype.openNode=function(l,i,e){},P.prototype.closeNode=function(l,i,e){},P.prototype.openAttribute=function(l,i,e){},P.prototype.closeAttribute=function(l,i,e){},P}()}).call(He)});var Ot=X((Ze,Je)=>{(function(){var u,o,b=function(s,d){for(var a in d)D.call(d,a)&&(s[a]=d[a]);function h(){this.constructor=s}return h.prototype=d.prototype,s.prototype=new h,s.__super__=d.prototype,s},D={}.hasOwnProperty;o=xt(),Je.exports=u=function(s){b(d,s);function d(a){d.__super__.constructor.call(this,a)}return d.prototype.document=function(a,h){var m,w,O,I,g;for(h=this.filterOptions(h),I="",g=a.children,w=0,O=g.length;w<O;w++)m=g[w],I+=this.writeChildNode(m,h,0);return h.pretty&&I.slice(-h.newline.length)===h.newline&&(I=I.slice(0,-h.newline.length)),I},d}(o)}).call(Ze)});var Ft=X((ti,ei)=>{(function(){var u,o,b,D,s,d,a,h,m=function(O,I){for(var g in I)w.call(I,g)&&(O[g]=I[g]);function f(){this.constructor=O}return f.prototype=I.prototype,O.prototype=new f,O.__super__=I.prototype,O},w={}.hasOwnProperty;h=Q().isPlainObject,b=Lt(),o=re(),s=$(),u=k(),a=St(),d=Ot(),ei.exports=D=function(O){m(I,O);function I(g){I.__super__.constructor.call(this,null),this.name="#document",this.type=u.Document,this.documentURI=null,this.domConfig=new o,g||(g={}),g.writer||(g.writer=new d),this.options=g,this.stringify=new a(g)}return Object.defineProperty(I.prototype,"implementation",{value:new b}),Object.defineProperty(I.prototype,"doctype",{get:function(){var g,f,y,T;for(T=this.children,f=0,y=T.length;f<y;f++)if(g=T[f],g.type===u.DocType)return g;return null}}),Object.defineProperty(I.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(I.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(I.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(I.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===u.Declaration?this.children[0].encoding:null}}),Object.defineProperty(I.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===u.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(I.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===u.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(I.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(I.prototype,"origin",{get:function(){return null}}),Object.defineProperty(I.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(I.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(I.prototype,"contentType",{get:function(){return null}}),I.prototype.end=function(g){var f;return f={},g?h(g)&&(f=g,g=this.options.writer):g=this.options.writer,g.document(this,g.filterOptions(f))},I.prototype.toString=function(g){return this.options.writer.document(this,this.options.writer.filterOptions(g))},I.prototype.createElement=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createTextNode=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createComment=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createCDATASection=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createProcessingInstruction=function(g,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createAttribute=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createEntityReference=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.getElementsByTagName=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.importNode=function(g,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createElementNS=function(g,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createAttributeNS=function(g,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.getElementsByTagNameNS=function(g,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.getElementById=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.adoptNode=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.renameNode=function(g,f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.getElementsByClassName=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createEvent=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createNodeIterator=function(g,f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createTreeWalker=function(g,f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},I}(s)}).call(ti)});var ni=X((ii,ri)=>{(function(){var u,o,b,D,s,d,a,h,m,w,O,I,g,f,y,T,v,L,P,l,i,e,c,_,r={}.hasOwnProperty;_=Q(),e=_.isObject,i=_.isFunction,c=_.isPlainObject,l=_.getValue,u=k(),I=Ft(),f=pt(),D=dt(),s=mt(),T=bt(),P=Nt(),y=It(),w=yt(),O=Et(),d=gt(),h=wt(),a=Tt(),m=Dt(),b=Mt(),L=St(),v=Ot(),o=ut(),ri.exports=g=function(){function C(p,N,M){var S;this.name="?xml",this.type=u.Document,p||(p={}),S={},p.writer?c(p.writer)&&(S=p.writer,p.writer=new v):p.writer=new v,this.options=p,this.writer=p.writer,this.writerOptions=this.writer.filterOptions(S),this.stringify=new L(p),this.onDataCallback=N||function(){},this.onEndCallback=M||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return C.prototype.createChildNode=function(p){var N,M,S,q,R,F,V,j;switch(p.type){case u.CData:this.cdata(p.value);break;case u.Comment:this.comment(p.value);break;case u.Element:S={},V=p.attribs;for(M in V)r.call(V,M)&&(N=V[M],S[M]=N.value);this.node(p.name,S);break;case u.Dummy:this.dummy();break;case u.Raw:this.raw(p.value);break;case u.Text:this.text(p.value);break;case u.ProcessingInstruction:this.instruction(p.target,p.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+p.constructor.name)}for(j=p.children,R=0,F=j.length;R<F;R++)q=j[R],this.createChildNode(q),q.type===u.Element&&this.up();return this},C.prototype.dummy=function(){return this},C.prototype.node=function(p,N,M){var S;if(p==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(p));return this.openCurrent(),p=l(p),N==null&&(N={}),N=l(N),e(N)||(S=[N,M],M=S[0],N=S[1]),this.currentNode=new f(this,p,N),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,M!=null&&this.text(M),this},C.prototype.element=function(p,N,M){var S,q,R,F,V,j;if(this.currentNode&&this.currentNode.type===u.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(p)||e(p)||i(p))for(F=this.options.noValidation,this.options.noValidation=!0,j=new I(this.options).element("TEMP_ROOT"),j.element(p),this.options.noValidation=F,V=j.children,q=0,R=V.length;q<R;q++)S=V[q],this.createChildNode(S),S.type===u.Element&&this.up();else this.node(p,N,M);return this},C.prototype.attribute=function(p,N){var M,S;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(p));if(p!=null&&(p=l(p)),e(p))for(M in p)r.call(p,M)&&(S=p[M],this.attribute(M,S));else i(N)&&(N=N.apply()),this.options.keepNullAttributes&&N==null?this.currentNode.attribs[p]=new b(this,p,""):N!=null&&(this.currentNode.attribs[p]=new b(this,p,N));return this},C.prototype.text=function(p){var N;return this.openCurrent(),N=new P(this,p),this.onData(this.writer.text(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.cdata=function(p){var N;return this.openCurrent(),N=new D(this,p),this.onData(this.writer.cdata(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.comment=function(p){var N;return this.openCurrent(),N=new s(this,p),this.onData(this.writer.comment(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.raw=function(p){var N;return this.openCurrent(),N=new T(this,p),this.onData(this.writer.raw(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.instruction=function(p,N){var M,S,q,R,F;if(this.openCurrent(),p!=null&&(p=l(p)),N!=null&&(N=l(N)),Array.isArray(p))for(M=0,R=p.length;M<R;M++)S=p[M],this.instruction(S);else if(e(p))for(S in p)r.call(p,S)&&(q=p[S],this.instruction(S,q));else i(N)&&(N=N.apply()),F=new y(this,p,N),this.onData(this.writer.processingInstruction(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},C.prototype.declaration=function(p,N,M){var S;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return S=new w(this,p,N,M),this.onData(this.writer.declaration(S,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.doctype=function(p,N,M){if(this.openCurrent(),p==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new O(this,N,M),this.currentNode.rootNodeName=p,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},C.prototype.dtdElement=function(p,N){var M;return this.openCurrent(),M=new a(this,p,N),this.onData(this.writer.dtdElement(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.attList=function(p,N,M,S,q){var R;return this.openCurrent(),R=new d(this,p,N,M,S,q),this.onData(this.writer.dtdAttList(R,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.entity=function(p,N){var M;return this.openCurrent(),M=new h(this,!1,p,N),this.onData(this.writer.dtdEntity(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.pEntity=function(p,N){var M;return this.openCurrent(),M=new h(this,!0,p,N),this.onData(this.writer.dtdEntity(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.notation=function(p,N){var M;return this.openCurrent(),M=new m(this,p,N),this.onData(this.writer.dtdNotation(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},C.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},C.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},C.prototype.openNode=function(p){var N,M,S,q;if(!p.isOpen){if(!this.root&&this.currentLevel===0&&p.type===u.Element&&(this.root=p),M="",p.type===u.Element){this.writerOptions.state=o.OpenTag,M=this.writer.indent(p,this.writerOptions,this.currentLevel)+"<"+p.name,q=p.attribs;for(S in q)r.call(q,S)&&(N=q[S],M+=this.writer.attribute(N,this.writerOptions,this.currentLevel));M+=(p.children?">":"/>")+this.writer.endline(p,this.writerOptions,this.currentLevel),this.writerOptions.state=o.InsideTag}else this.writerOptions.state=o.OpenTag,M=this.writer.indent(p,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+p.rootNodeName,p.pubID&&p.sysID?M+=' PUBLIC "'+p.pubID+'" "'+p.sysID+'"':p.sysID&&(M+=' SYSTEM "'+p.sysID+'"'),p.children?(M+=" [",this.writerOptions.state=o.InsideTag):(this.writerOptions.state=o.CloseTag,M+=">"),M+=this.writer.endline(p,this.writerOptions,this.currentLevel);return this.onData(M,this.currentLevel),p.isOpen=!0}},C.prototype.closeNode=function(p){var N;if(!p.isClosed)return N="",this.writerOptions.state=o.CloseTag,p.type===u.Element?N=this.writer.indent(p,this.writerOptions,this.currentLevel)+"</"+p.name+">"+this.writer.endline(p,this.writerOptions,this.currentLevel):N=this.writer.indent(p,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(p,this.writerOptions,this.currentLevel),this.writerOptions.state=o.None,this.onData(N,this.currentLevel),p.isClosed=!0},C.prototype.onData=function(p,N){return this.documentStarted=!0,this.onDataCallback(p,N+1)},C.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},C.prototype.debugInfo=function(p){return p==null?"":"node: <"+p+">"},C.prototype.ele=function(){return this.element.apply(this,arguments)},C.prototype.nod=function(p,N,M){return this.node(p,N,M)},C.prototype.txt=function(p){return this.text(p)},C.prototype.dat=function(p){return this.cdata(p)},C.prototype.com=function(p){return this.comment(p)},C.prototype.ins=function(p,N){return this.instruction(p,N)},C.prototype.dec=function(p,N,M){return this.declaration(p,N,M)},C.prototype.dtd=function(p,N,M){return this.doctype(p,N,M)},C.prototype.e=function(p,N,M){return this.element(p,N,M)},C.prototype.n=function(p,N,M){return this.node(p,N,M)},C.prototype.t=function(p){return this.text(p)},C.prototype.d=function(p){return this.cdata(p)},C.prototype.c=function(p){return this.comment(p)},C.prototype.r=function(p){return this.raw(p)},C.prototype.i=function(p,N){return this.instruction(p,N)},C.prototype.att=function(){return this.currentNode&&this.currentNode.type===u.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},C.prototype.a=function(){return this.currentNode&&this.currentNode.type===u.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},C.prototype.ent=function(p,N){return this.entity(p,N)},C.prototype.pent=function(p,N){return this.pEntity(p,N)},C.prototype.not=function(p,N){return this.notation(p,N)},C}()}).call(ii)});var ai=X((oi,si)=>{(function(){var u,o,b,D,s=function(a,h){for(var m in h)d.call(h,m)&&(a[m]=h[m]);function w(){this.constructor=a}return w.prototype=h.prototype,a.prototype=new w,a.__super__=h.prototype,a},d={}.hasOwnProperty;u=k(),D=xt(),o=ut(),si.exports=b=function(a){s(h,a);function h(m,w){this.stream=m,h.__super__.constructor.call(this,w)}return h.prototype.endline=function(m,w,O){return m.isLastRootNode&&w.state===o.CloseTag?"":h.__super__.endline.call(this,m,w,O)},h.prototype.document=function(m,w){var O,I,g,f,y,T,v,L,P;for(v=m.children,I=g=0,y=v.length;g<y;I=++g)O=v[I],O.isLastRootNode=I===m.children.length-1;for(w=this.filterOptions(w),L=m.children,P=[],f=0,T=L.length;f<T;f++)O=L[f],P.push(this.writeChildNode(O,w,0));return P},h.prototype.attribute=function(m,w,O){return this.stream.write(h.__super__.attribute.call(this,m,w,O))},h.prototype.cdata=function(m,w,O){return this.stream.write(h.__super__.cdata.call(this,m,w,O))},h.prototype.comment=function(m,w,O){return this.stream.write(h.__super__.comment.call(this,m,w,O))},h.prototype.declaration=function(m,w,O){return this.stream.write(h.__super__.declaration.call(this,m,w,O))},h.prototype.docType=function(m,w,O){var I,g,f,y;if(O||(O=0),this.openNode(m,w,O),w.state=o.OpenTag,this.stream.write(this.indent(m,w,O)),this.stream.write("<!DOCTYPE "+m.root().name),m.pubID&&m.sysID?this.stream.write(' PUBLIC "'+m.pubID+'" "'+m.sysID+'"'):m.sysID&&this.stream.write(' SYSTEM "'+m.sysID+'"'),m.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(m,w,O)),w.state=o.InsideTag,y=m.children,g=0,f=y.length;g<f;g++)I=y[g],this.writeChildNode(I,w,O+1);w.state=o.CloseTag,this.stream.write("]")}return w.state=o.CloseTag,this.stream.write(w.spaceBeforeSlash+">"),this.stream.write(this.endline(m,w,O)),w.state=o.None,this.closeNode(m,w,O)},h.prototype.element=function(m,w,O){var I,g,f,y,T,v,L,P,l,i;O||(O=0),this.openNode(m,w,O),w.state=o.OpenTag,this.stream.write(this.indent(m,w,O)+"<"+m.name),l=m.attribs;for(L in l)d.call(l,L)&&(I=l[L],this.attribute(I,w,O));if(f=m.children.length,y=f===0?null:m.children[0],f===0||m.children.every(function(e){return(e.type===u.Text||e.type===u.Raw)&&e.value===""}))w.allowEmpty?(this.stream.write(">"),w.state=o.CloseTag,this.stream.write("</"+m.name+">")):(w.state=o.CloseTag,this.stream.write(w.spaceBeforeSlash+"/>"));else if(w.pretty&&f===1&&(y.type===u.Text||y.type===u.Raw)&&y.value!=null)this.stream.write(">"),w.state=o.InsideTag,w.suppressPrettyCount++,P=!0,this.writeChildNode(y,w,O+1),w.suppressPrettyCount--,P=!1,w.state=o.CloseTag,this.stream.write("</"+m.name+">");else{for(this.stream.write(">"+this.endline(m,w,O)),w.state=o.InsideTag,i=m.children,T=0,v=i.length;T<v;T++)g=i[T],this.writeChildNode(g,w,O+1);w.state=o.CloseTag,this.stream.write(this.indent(m,w,O)+"</"+m.name+">")}return this.stream.write(this.endline(m,w,O)),w.state=o.None,this.closeNode(m,w,O)},h.prototype.processingInstruction=function(m,w,O){return this.stream.write(h.__super__.processingInstruction.call(this,m,w,O))},h.prototype.raw=function(m,w,O){return this.stream.write(h.__super__.raw.call(this,m,w,O))},h.prototype.text=function(m,w,O){return this.stream.write(h.__super__.text.call(this,m,w,O))},h.prototype.dtdAttList=function(m,w,O){return this.stream.write(h.__super__.dtdAttList.call(this,m,w,O))},h.prototype.dtdElement=function(m,w,O){return this.stream.write(h.__super__.dtdElement.call(this,m,w,O))},h.prototype.dtdEntity=function(m,w,O){return this.stream.write(h.__super__.dtdEntity.call(this,m,w,O))},h.prototype.dtdNotation=function(m,w,O){return this.stream.write(h.__super__.dtdNotation.call(this,m,w,O))},h}(D)}).call(oi)});var ci=X((ui,rt)=>{(function(){var u,o,b,D,s,d,a,h,m,w;w=Q(),h=w.assign,m=w.isFunction,b=Lt(),D=Ft(),s=ni(),a=Ot(),d=ai(),u=k(),o=ut(),rt.exports.create=function(O,I,g,f){var y,T;if(O==null)throw new Error("Root element needs a name.");return f=h({},I,g,f),y=new D(f),T=y.element(O),f.headless||(y.declaration(f),(f.pubID!=null||f.sysID!=null)&&y.dtd(f)),T},rt.exports.begin=function(O,I,g){var f;return m(O)&&(f=[O,I],I=f[0],g=f[1],O={}),I?new s(O,I,g):new D(O)},rt.exports.stringWriter=function(O){return new a(O)},rt.exports.streamWriter=function(O,I){return new d(O,I)},rt.exports.implementation=new b,rt.exports.nodeType=u,rt.exports.writerState=o}).call(ui)});var li=X(Xt=>{(function(){"use strict";var u,o,b,D,s,d={}.hasOwnProperty;u=ci(),o=ht().defaults,D=function(a){return typeof a=="string"&&(a.indexOf("&")>=0||a.indexOf(">")>=0||a.indexOf("<")>=0)},s=function(a){return"<![CDATA["+b(a)+"]]>"},b=function(a){return a.replace("]]>","]]]]><![CDATA[>")},Xt.Builder=function(){function a(h){var m,w,O;this.options={},w=o["0.2"];for(m in w)d.call(w,m)&&(O=w[m],this.options[m]=O);for(m in h)d.call(h,m)&&(O=h[m],this.options[m]=O)}return a.prototype.buildObject=function(h){var m,w,O,I,g;return m=this.options.attrkey,w=this.options.charkey,Object.keys(h).length===1&&this.options.rootName===o["0.2"].rootName?(g=Object.keys(h)[0],h=h[g]):g=this.options.rootName,O=function(f){return function(y,T){var v,L,P,l,i,e;if(typeof T!="object")f.options.cdata&&D(T)?y.raw(s(T)):y.txt(T);else if(Array.isArray(T)){for(l in T)if(d.call(T,l)){L=T[l];for(i in L)P=L[i],y=O(y.ele(i),P).up()}}else for(i in T)if(d.call(T,i))if(L=T[i],i===m){if(typeof L=="object")for(v in L)e=L[v],y=y.att(v,e)}else if(i===w)f.options.cdata&&D(L)?y=y.raw(s(L)):y=y.txt(L);else if(Array.isArray(L))for(l in L)d.call(L,l)&&(P=L[l],typeof P=="string"?f.options.cdata&&D(P)?y=y.ele(i).raw(s(P)).up():y=y.ele(i,P).up():y=O(y.ele(i),P).up());else typeof L=="object"?y=O(y.ele(i),L).up():typeof L=="string"&&f.options.cdata&&D(L)?y=y.ele(i).raw(s(L)).up():(L==null&&(L=""),y=y.ele(i,L.toString()).up());return y}}(this),I=u.create(g,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),O(I,h).end(this.options.renderOpts)},a}()}).call(Xt)});var hi=X(Pt=>{(function(u){u.parser=function(n,t){return new b(n,t)},u.SAXParser=b,u.SAXStream=w,u.createStream=m,u.MAX_BUFFER_LENGTH=64*1024;var o=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];u.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function b(n,t){if(!(this instanceof b))return new b(n,t);var A=this;s(A),A.q=A.c="",A.bufferCheckPosition=u.MAX_BUFFER_LENGTH,A.opt=t||{},A.opt.lowercase=A.opt.lowercase||A.opt.lowercasetags,A.looseCase=A.opt.lowercase?"toLowerCase":"toUpperCase",A.tags=[],A.closed=A.closedRoot=A.sawRoot=!1,A.tag=A.error=null,A.strict=!!n,A.noscript=!!(n||A.opt.noscript),A.state=r.BEGIN,A.strictEntities=A.opt.strictEntities,A.ENTITIES=A.strictEntities?Object.create(u.XML_ENTITIES):Object.create(u.ENTITIES),A.attribList=[],A.opt.xmlns&&(A.ns=Object.create(y)),A.opt.unquotedAttributeValues===void 0&&(A.opt.unquotedAttributeValues=!n),A.trackPosition=A.opt.position!==!1,A.trackPosition&&(A.position=A.line=A.column=0),p(A,"onready")}Object.create||(Object.create=function(n){function t(){}t.prototype=n;var A=new t;return A}),Object.keys||(Object.keys=function(n){var t=[];for(var A in n)n.hasOwnProperty(A)&&t.push(A);return t});function D(n){for(var t=Math.max(u.MAX_BUFFER_LENGTH,10),A=0,E=0,U=o.length;E<U;E++){var G=n[o[E]].length;if(G>t)switch(o[E]){case"textNode":M(n);break;case"cdata":N(n,"oncdata",n.cdata),n.cdata="";break;case"script":N(n,"onscript",n.script),n.script="";break;default:q(n,"Max buffer length exceeded: "+o[E])}A=Math.max(A,G)}var W=u.MAX_BUFFER_LENGTH-A;n.bufferCheckPosition=W+n.position}function s(n){for(var t=0,A=o.length;t<A;t++)n[o[t]]=""}function d(n){M(n),n.cdata!==""&&(N(n,"oncdata",n.cdata),n.cdata=""),n.script!==""&&(N(n,"onscript",n.script),n.script="")}b.prototype={end:function(){R(this)},write:Ai,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){d(this)}};var a;try{a=require("stream").Stream}catch{a=function(){}}a||(a=function(){});var h=u.EVENTS.filter(function(n){return n!=="error"&&n!=="end"});function m(n,t){return new w(n,t)}function w(n,t){if(!(this instanceof w))return new w(n,t);a.apply(this),this._parser=new b(n,t),this.writable=!0,this.readable=!0;var A=this;this._parser.onend=function(){A.emit("end")},this._parser.onerror=function(E){A.emit("error",E),A._parser.error=null},this._decoder=null,h.forEach(function(E){Object.defineProperty(A,"on"+E,{get:function(){return A._parser["on"+E]},set:function(U){if(!U)return A.removeAllListeners(E),A._parser["on"+E]=U,U;A.on(E,U)},enumerable:!0,configurable:!1})})}w.prototype=Object.create(a.prototype,{constructor:{value:w}}),w.prototype.write=function(n){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(n)){if(!this._decoder){var t=require("string_decoder").StringDecoder;this._decoder=new t("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},w.prototype.end=function(n){return n&&n.length&&this.write(n),this._parser.end(),!0},w.prototype.on=function(n,t){var A=this;return!A._parser["on"+n]&&h.indexOf(n)!==-1&&(A._parser["on"+n]=function(){var E=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);E.splice(0,0,n),A.emit.apply(A,E)}),a.prototype.on.call(A,n,t)};var O="[CDATA[",I="DOCTYPE",g="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/2000/xmlns/",y={xml:g,xmlns:f},T=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,L=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,P=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function l(n){return n===" "||n===`
`||n==="\r"||n==="	"}function i(n){return n==='"'||n==="'"}function e(n){return n===">"||l(n)}function c(n,t){return n.test(t)}function _(n,t){return!c(n,t)}var r=0;u.STATE={BEGIN:r++,BEGIN_WHITESPACE:r++,TEXT:r++,TEXT_ENTITY:r++,OPEN_WAKA:r++,SGML_DECL:r++,SGML_DECL_QUOTED:r++,DOCTYPE:r++,DOCTYPE_QUOTED:r++,DOCTYPE_DTD:r++,DOCTYPE_DTD_QUOTED:r++,COMMENT_STARTING:r++,COMMENT:r++,COMMENT_ENDING:r++,COMMENT_ENDED:r++,CDATA:r++,CDATA_ENDING:r++,CDATA_ENDING_2:r++,PROC_INST:r++,PROC_INST_BODY:r++,PROC_INST_ENDING:r++,OPEN_TAG:r++,OPEN_TAG_SLASH:r++,ATTRIB:r++,ATTRIB_NAME:r++,ATTRIB_NAME_SAW_WHITE:r++,ATTRIB_VALUE:r++,ATTRIB_VALUE_QUOTED:r++,ATTRIB_VALUE_CLOSED:r++,ATTRIB_VALUE_UNQUOTED:r++,ATTRIB_VALUE_ENTITY_Q:r++,ATTRIB_VALUE_ENTITY_U:r++,CLOSE_TAG:r++,CLOSE_TAG_SAW_WHITE:r++,SCRIPT:r++,SCRIPT_ENDING:r++},u.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},u.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(u.ENTITIES).forEach(function(n){var t=u.ENTITIES[n],A=typeof t=="number"?String.fromCharCode(t):t;u.ENTITIES[n]=A});for(var C in u.STATE)u.STATE[u.STATE[C]]=C;r=u.STATE;function p(n,t,A){n[t]&&n[t](A)}function N(n,t,A){n.textNode&&M(n),p(n,t,A)}function M(n){n.textNode=S(n.opt,n.textNode),n.textNode&&p(n,"ontext",n.textNode),n.textNode=""}function S(n,t){return n.trim&&(t=t.trim()),n.normalize&&(t=t.replace(/\s+/g," ")),t}function q(n,t){return M(n),n.trackPosition&&(t+=`
Line: `+n.line+`
Column: `+n.column+`
Char: `+n.c),t=new Error(t),n.error=t,p(n,"onerror",t),n}function R(n){return n.sawRoot&&!n.closedRoot&&F(n,"Unclosed root tag"),n.state!==r.BEGIN&&n.state!==r.BEGIN_WHITESPACE&&n.state!==r.TEXT&&q(n,"Unexpected end"),M(n),n.c="",n.closed=!0,p(n,"onend"),b.call(n,n.strict,n.opt),n}function F(n,t){if(typeof n!="object"||!(n instanceof b))throw new Error("bad call to strictFail");n.strict&&q(n,t)}function V(n){n.strict||(n.tagName=n.tagName[n.looseCase]());var t=n.tags[n.tags.length-1]||n,A=n.tag={name:n.tagName,attributes:{}};n.opt.xmlns&&(A.ns=t.ns),n.attribList.length=0,N(n,"onopentagstart",A)}function j(n,t){var A=n.indexOf(":"),E=A<0?["",n]:n.split(":"),U=E[0],G=E[1];return t&&n==="xmlns"&&(U="xmlns",G=""),{prefix:U,local:G}}function nt(n){if(n.strict||(n.attribName=n.attribName[n.looseCase]()),n.attribList.indexOf(n.attribName)!==-1||n.tag.attributes.hasOwnProperty(n.attribName)){n.attribName=n.attribValue="";return}if(n.opt.xmlns){var t=j(n.attribName,!0),A=t.prefix,E=t.local;if(A==="xmlns")if(E==="xml"&&n.attribValue!==g)F(n,"xml: prefix must be bound to "+g+`
Actual: `+n.attribValue);else if(E==="xmlns"&&n.attribValue!==f)F(n,"xmlns: prefix must be bound to "+f+`
Actual: `+n.attribValue);else{var U=n.tag,G=n.tags[n.tags.length-1]||n;U.ns===G.ns&&(U.ns=Object.create(G.ns)),U.ns[E]=n.attribValue}n.attribList.push([n.attribName,n.attribValue])}else n.tag.attributes[n.attribName]=n.attribValue,N(n,"onattribute",{name:n.attribName,value:n.attribValue});n.attribName=n.attribValue=""}function H(n,t){if(n.opt.xmlns){var A=n.tag,E=j(n.tagName);A.prefix=E.prefix,A.local=E.local,A.uri=A.ns[E.prefix]||"",A.prefix&&!A.uri&&(F(n,"Unbound namespace prefix: "+JSON.stringify(n.tagName)),A.uri=E.prefix);var U=n.tags[n.tags.length-1]||n;A.ns&&U.ns!==A.ns&&Object.keys(A.ns).forEach(function(Gt){N(n,"onopennamespace",{prefix:Gt,uri:A.ns[Gt]})});for(var G=0,W=n.attribList.length;G<W;G++){var K=n.attribList[G],z=K[0],st=K[1],Y=j(z,!0),Z=Y.prefix,Li=Y.local,Vt=Z===""?"":A.ns[Z]||"",Ct={name:z,value:st,prefix:Z,local:Li,uri:Vt};Z&&Z!=="xmlns"&&!Vt&&(F(n,"Unbound namespace prefix: "+JSON.stringify(Z)),Ct.uri=Z),n.tag.attributes[z]=Ct,N(n,"onattribute",Ct)}n.attribList.length=0}n.tag.isSelfClosing=!!t,n.sawRoot=!0,n.tags.push(n.tag),N(n,"onopentag",n.tag),t||(!n.noscript&&n.tagName.toLowerCase()==="script"?n.state=r.SCRIPT:n.state=r.TEXT,n.tag=null,n.tagName=""),n.attribName=n.attribValue="",n.attribList.length=0}function _t(n){if(!n.tagName){F(n,"Weird empty close tag."),n.textNode+="</>",n.state=r.TEXT;return}if(n.script){if(n.tagName!=="script"){n.script+="</"+n.tagName+">",n.tagName="",n.state=r.SCRIPT;return}N(n,"onscript",n.script),n.script=""}var t=n.tags.length,A=n.tagName;n.strict||(A=A[n.looseCase]());for(var E=A;t--;){var U=n.tags[t];if(U.name!==E)F(n,"Unexpected close tag");else break}if(t<0){F(n,"Unmatched closing tag: "+n.tagName),n.textNode+="</"+n.tagName+">",n.state=r.TEXT;return}n.tagName=A;for(var G=n.tags.length;G-- >t;){var W=n.tag=n.tags.pop();n.tagName=n.tag.name,N(n,"onclosetag",n.tagName);var K={};for(var z in W.ns)K[z]=W.ns[z];var st=n.tags[n.tags.length-1]||n;n.opt.xmlns&&W.ns!==st.ns&&Object.keys(W.ns).forEach(function(Y){var Z=W.ns[Y];N(n,"onclosenamespace",{prefix:Y,uri:Z})})}t===0&&(n.closedRoot=!0),n.tagName=n.attribValue=n.attribName="",n.attribList.length=0,n.state=r.TEXT}function Ci(n){var t=n.entity,A=t.toLowerCase(),E,U="";return n.ENTITIES[t]?n.ENTITIES[t]:n.ENTITIES[A]?n.ENTITIES[A]:(t=A,t.charAt(0)==="#"&&(t.charAt(1)==="x"?(t=t.slice(2),E=parseInt(t,16),U=E.toString(16)):(t=t.slice(1),E=parseInt(t,10),U=E.toString(10))),t=t.replace(/^0+/,""),isNaN(E)||U.toLowerCase()!==t?(F(n,"Invalid character entity"),"&"+n.entity+";"):String.fromCodePoint(E))}function Ut(n,t){t==="<"?(n.state=r.OPEN_WAKA,n.startTagPosition=n.position):l(t)||(F(n,"Non-whitespace before first tag."),n.textNode=t,n.state=r.TEXT)}function kt(n,t){var A="";return t<n.length&&(A=n.charAt(t)),A}function Ai(n){var t=this;if(this.error)throw this.error;if(t.closed)return q(t,"Cannot write after close. Assign an onready handler.");if(n===null)return R(t);typeof n=="object"&&(n=n.toString());for(var A=0,E="";E=kt(n,A++),t.c=E,!!E;)switch(t.trackPosition&&(t.position++,E===`
`?(t.line++,t.column=0):t.column++),t.state){case r.BEGIN:if(t.state=r.BEGIN_WHITESPACE,E==="\uFEFF")continue;Ut(t,E);continue;case r.BEGIN_WHITESPACE:Ut(t,E);continue;case r.TEXT:if(t.sawRoot&&!t.closedRoot){for(var U=A-1;E&&E!=="<"&&E!=="&";)E=kt(n,A++),E&&t.trackPosition&&(t.position++,E===`
`?(t.line++,t.column=0):t.column++);t.textNode+=n.substring(U,A-1)}E==="<"&&!(t.sawRoot&&t.closedRoot&&!t.strict)?(t.state=r.OPEN_WAKA,t.startTagPosition=t.position):(!l(E)&&(!t.sawRoot||t.closedRoot)&&F(t,"Text data outside of root node."),E==="&"?t.state=r.TEXT_ENTITY:t.textNode+=E);continue;case r.SCRIPT:E==="<"?t.state=r.SCRIPT_ENDING:t.script+=E;continue;case r.SCRIPT_ENDING:E==="/"?t.state=r.CLOSE_TAG:(t.script+="<"+E,t.state=r.SCRIPT);continue;case r.OPEN_WAKA:if(E==="!")t.state=r.SGML_DECL,t.sgmlDecl="";else if(!l(E))if(c(T,E))t.state=r.OPEN_TAG,t.tagName=E;else if(E==="/")t.state=r.CLOSE_TAG,t.tagName="";else if(E==="?")t.state=r.PROC_INST,t.procInstName=t.procInstBody="";else{if(F(t,"Unencoded <"),t.startTagPosition+1<t.position){var G=t.position-t.startTagPosition;E=new Array(G).join(" ")+E}t.textNode+="<"+E,t.state=r.TEXT}continue;case r.SGML_DECL:if(t.sgmlDecl+E==="--"){t.state=r.COMMENT,t.comment="",t.sgmlDecl="";continue}t.doctype&&t.doctype!==!0&&t.sgmlDecl?(t.state=r.DOCTYPE_DTD,t.doctype+="<!"+t.sgmlDecl+E,t.sgmlDecl=""):(t.sgmlDecl+E).toUpperCase()===O?(N(t,"onopencdata"),t.state=r.CDATA,t.sgmlDecl="",t.cdata=""):(t.sgmlDecl+E).toUpperCase()===I?(t.state=r.DOCTYPE,(t.doctype||t.sawRoot)&&F(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):E===">"?(N(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=r.TEXT):(i(E)&&(t.state=r.SGML_DECL_QUOTED),t.sgmlDecl+=E);continue;case r.SGML_DECL_QUOTED:E===t.q&&(t.state=r.SGML_DECL,t.q=""),t.sgmlDecl+=E;continue;case r.DOCTYPE:E===">"?(t.state=r.TEXT,N(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=E,E==="["?t.state=r.DOCTYPE_DTD:i(E)&&(t.state=r.DOCTYPE_QUOTED,t.q=E));continue;case r.DOCTYPE_QUOTED:t.doctype+=E,E===t.q&&(t.q="",t.state=r.DOCTYPE);continue;case r.DOCTYPE_DTD:E==="]"?(t.doctype+=E,t.state=r.DOCTYPE):E==="<"?(t.state=r.OPEN_WAKA,t.startTagPosition=t.position):i(E)?(t.doctype+=E,t.state=r.DOCTYPE_DTD_QUOTED,t.q=E):t.doctype+=E;continue;case r.DOCTYPE_DTD_QUOTED:t.doctype+=E,E===t.q&&(t.state=r.DOCTYPE_DTD,t.q="");continue;case r.COMMENT:E==="-"?t.state=r.COMMENT_ENDING:t.comment+=E;continue;case r.COMMENT_ENDING:E==="-"?(t.state=r.COMMENT_ENDED,t.comment=S(t.opt,t.comment),t.comment&&N(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+E,t.state=r.COMMENT);continue;case r.COMMENT_ENDED:E!==">"?(F(t,"Malformed comment"),t.comment+="--"+E,t.state=r.COMMENT):t.doctype&&t.doctype!==!0?t.state=r.DOCTYPE_DTD:t.state=r.TEXT;continue;case r.CDATA:E==="]"?t.state=r.CDATA_ENDING:t.cdata+=E;continue;case r.CDATA_ENDING:E==="]"?t.state=r.CDATA_ENDING_2:(t.cdata+="]"+E,t.state=r.CDATA);continue;case r.CDATA_ENDING_2:E===">"?(t.cdata&&N(t,"oncdata",t.cdata),N(t,"onclosecdata"),t.cdata="",t.state=r.TEXT):E==="]"?t.cdata+="]":(t.cdata+="]]"+E,t.state=r.CDATA);continue;case r.PROC_INST:E==="?"?t.state=r.PROC_INST_ENDING:l(E)?t.state=r.PROC_INST_BODY:t.procInstName+=E;continue;case r.PROC_INST_BODY:if(!t.procInstBody&&l(E))continue;E==="?"?t.state=r.PROC_INST_ENDING:t.procInstBody+=E;continue;case r.PROC_INST_ENDING:E===">"?(N(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=r.TEXT):(t.procInstBody+="?"+E,t.state=r.PROC_INST_BODY);continue;case r.OPEN_TAG:c(v,E)?t.tagName+=E:(V(t),E===">"?H(t):E==="/"?t.state=r.OPEN_TAG_SLASH:(l(E)||F(t,"Invalid character in tag name"),t.state=r.ATTRIB));continue;case r.OPEN_TAG_SLASH:E===">"?(H(t,!0),_t(t)):(F(t,"Forward-slash in opening tag not followed by >"),t.state=r.ATTRIB);continue;case r.ATTRIB:if(l(E))continue;E===">"?H(t):E==="/"?t.state=r.OPEN_TAG_SLASH:c(T,E)?(t.attribName=E,t.attribValue="",t.state=r.ATTRIB_NAME):F(t,"Invalid attribute name");continue;case r.ATTRIB_NAME:E==="="?t.state=r.ATTRIB_VALUE:E===">"?(F(t,"Attribute without value"),t.attribValue=t.attribName,nt(t),H(t)):l(E)?t.state=r.ATTRIB_NAME_SAW_WHITE:c(v,E)?t.attribName+=E:F(t,"Invalid attribute name");continue;case r.ATTRIB_NAME_SAW_WHITE:if(E==="=")t.state=r.ATTRIB_VALUE;else{if(l(E))continue;F(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",N(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",E===">"?H(t):c(T,E)?(t.attribName=E,t.state=r.ATTRIB_NAME):(F(t,"Invalid attribute name"),t.state=r.ATTRIB)}continue;case r.ATTRIB_VALUE:if(l(E))continue;i(E)?(t.q=E,t.state=r.ATTRIB_VALUE_QUOTED):(t.opt.unquotedAttributeValues||q(t,"Unquoted attribute value"),t.state=r.ATTRIB_VALUE_UNQUOTED,t.attribValue=E);continue;case r.ATTRIB_VALUE_QUOTED:if(E!==t.q){E==="&"?t.state=r.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=E;continue}nt(t),t.q="",t.state=r.ATTRIB_VALUE_CLOSED;continue;case r.ATTRIB_VALUE_CLOSED:l(E)?t.state=r.ATTRIB:E===">"?H(t):E==="/"?t.state=r.OPEN_TAG_SLASH:c(T,E)?(F(t,"No whitespace between attributes"),t.attribName=E,t.attribValue="",t.state=r.ATTRIB_NAME):F(t,"Invalid attribute name");continue;case r.ATTRIB_VALUE_UNQUOTED:if(!e(E)){E==="&"?t.state=r.ATTRIB_VALUE_ENTITY_U:t.attribValue+=E;continue}nt(t),E===">"?H(t):t.state=r.ATTRIB;continue;case r.CLOSE_TAG:if(t.tagName)E===">"?_t(t):c(v,E)?t.tagName+=E:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=r.SCRIPT):(l(E)||F(t,"Invalid tagname in closing tag"),t.state=r.CLOSE_TAG_SAW_WHITE);else{if(l(E))continue;_(T,E)?t.script?(t.script+="</"+E,t.state=r.SCRIPT):F(t,"Invalid tagname in closing tag."):t.tagName=E}continue;case r.CLOSE_TAG_SAW_WHITE:if(l(E))continue;E===">"?_t(t):F(t,"Invalid characters in closing tag");continue;case r.TEXT_ENTITY:case r.ATTRIB_VALUE_ENTITY_Q:case r.ATTRIB_VALUE_ENTITY_U:var W,K;switch(t.state){case r.TEXT_ENTITY:W=r.TEXT,K="textNode";break;case r.ATTRIB_VALUE_ENTITY_Q:W=r.ATTRIB_VALUE_QUOTED,K="attribValue";break;case r.ATTRIB_VALUE_ENTITY_U:W=r.ATTRIB_VALUE_UNQUOTED,K="attribValue";break}if(E===";"){var z=Ci(t);t.opt.unparsedEntities&&!Object.values(u.XML_ENTITIES).includes(z)?(t.entity="",t.state=W,t.write(z)):(t[K]+=z,t.entity="",t.state=W)}else c(t.entity.length?P:L,E)?t.entity+=E:(F(t,"Invalid character in entity name"),t[K]+="&"+t.entity+E,t.entity="",t.state=W);continue;default:throw new Error(t,"Unknown state: "+t.state)}return t.position>=t.bufferCheckPosition&&D(t),t}String.fromCodePoint||function(){var n=String.fromCharCode,t=Math.floor,A=function(){var E=16384,U=[],G,W,K=-1,z=arguments.length;if(!z)return"";for(var st="";++K<z;){var Y=Number(arguments[K]);if(!isFinite(Y)||Y<0||Y>1114111||t(Y)!==Y)throw RangeError("Invalid code point: "+Y);Y<=65535?U.push(Y):(Y-=65536,G=(Y>>10)+55296,W=Y%1024+56320,U.push(G,W)),(K+1===z||U.length>E)&&(st+=n.apply(null,U),U.length=0)}return st};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:A,configurable:!0,writable:!0}):String.fromCodePoint=A}()})(typeof Pt>"u"?Pt.sax={}:Pt)});var fi=X(qt=>{(function(){"use strict";qt.stripBOM=function(u){return u[0]==="\uFEFF"?u.substring(1):u}}).call(qt)});var Rt=X(ot=>{(function(){"use strict";var u;u=new RegExp(/(?!xmlns)^.*:/),ot.normalize=function(o){return o.toLowerCase()},ot.firstCharLowerCase=function(o){return o.charAt(0).toLowerCase()+o.slice(1)},ot.stripPrefix=function(o){return o.replace(u,"")},ot.parseNumbers=function(o){return isNaN(o)||(o=o%1===0?parseInt(o,10):parseFloat(o)),o},ot.parseBooleans=function(o){return/^(?:true|false)$/i.test(o)&&(o=o.toLowerCase()==="true"),o}}).call(ot)});var pi=X(J=>{(function(){"use strict";var u,o,b,D,s,d,a,h,m,w=function(g,f){return function(){return g.apply(f,arguments)}},O=function(g,f){for(var y in f)I.call(f,y)&&(g[y]=f[y]);function T(){this.constructor=g}return T.prototype=f.prototype,g.prototype=new T,g.__super__=f.prototype,g},I={}.hasOwnProperty;h=hi(),D=require("events"),u=fi(),a=Rt(),m=require("timers").setImmediate,o=ht().defaults,s=function(g){return typeof g=="object"&&g!=null&&Object.keys(g).length===0},d=function(g,f,y){var T,v,L;for(T=0,v=g.length;T<v;T++)L=g[T],f=L(f,y);return f},b=function(g,f,y){var T;return T=Object.create(null),T.value=y,T.writable=!0,T.enumerable=!0,T.configurable=!0,Object.defineProperty(g,f,T)},J.Parser=function(g){O(f,g);function f(y){this.parseStringPromise=w(this.parseStringPromise,this),this.parseString=w(this.parseString,this),this.reset=w(this.reset,this),this.assignOrPush=w(this.assignOrPush,this),this.processAsync=w(this.processAsync,this);var T,v,L;if(!(this instanceof J.Parser))return new J.Parser(y);this.options={},v=o["0.2"];for(T in v)I.call(v,T)&&(L=v[T],this.options[T]=L);for(T in y)I.call(y,T)&&(L=y[T],this.options[T]=L);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return f.prototype.processAsync=function(){var y,T;try{return this.remaining.length<=this.options.chunkSize?(y=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(y),this.saxParser.close()):(y=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(y),m(this.processAsync))}catch(v){if(T=v,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(T)}},f.prototype.assignOrPush=function(y,T,v){return T in y?(y[T]instanceof Array||b(y,T,[y[T]]),y[T].push(v)):this.options.explicitArray?b(y,T,[v]):b(y,T,v)},f.prototype.reset=function(){var y,T,v,L;return this.removeAllListeners(),this.saxParser=h.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(P){return function(l){if(P.saxParser.resume(),!P.saxParser.errThrown)return P.saxParser.errThrown=!0,P.emit("error",l)}}(this),this.saxParser.onend=function(P){return function(){if(!P.saxParser.ended)return P.saxParser.ended=!0,P.emit("end",P.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,L=[],y=this.options.attrkey,T=this.options.charkey,this.saxParser.onopentag=function(P){return function(l){var i,e,c,_,r;if(c={},c[T]="",!P.options.ignoreAttrs){r=l.attributes;for(i in r)I.call(r,i)&&(!(y in c)&&!P.options.mergeAttrs&&(c[y]={}),e=P.options.attrValueProcessors?d(P.options.attrValueProcessors,l.attributes[i],i):l.attributes[i],_=P.options.attrNameProcessors?d(P.options.attrNameProcessors,i):i,P.options.mergeAttrs?P.assignOrPush(c,_,e):b(c[y],_,e))}return c["#name"]=P.options.tagNameProcessors?d(P.options.tagNameProcessors,l.name):l.name,P.options.xmlns&&(c[P.options.xmlnskey]={uri:l.uri,local:l.local}),L.push(c)}}(this),this.saxParser.onclosetag=function(P){return function(){var l,i,e,c,_,r,C,p,N,M;if(r=L.pop(),_=r["#name"],(!P.options.explicitChildren||!P.options.preserveChildrenOrder)&&delete r["#name"],r.cdata===!0&&(l=r.cdata,delete r.cdata),N=L[L.length-1],r[T].match(/^\s*$/)&&!l?(i=r[T],delete r[T]):(P.options.trim&&(r[T]=r[T].trim()),P.options.normalize&&(r[T]=r[T].replace(/\s{2,}/g," ").trim()),r[T]=P.options.valueProcessors?d(P.options.valueProcessors,r[T],_):r[T],Object.keys(r).length===1&&T in r&&!P.EXPLICIT_CHARKEY&&(r=r[T])),s(r)&&(typeof P.options.emptyTag=="function"?r=P.options.emptyTag():r=P.options.emptyTag!==""?P.options.emptyTag:i),P.options.validator!=null&&(M="/"+function(){var S,q,R;for(R=[],S=0,q=L.length;S<q;S++)c=L[S],R.push(c["#name"]);return R}().concat(_).join("/"),function(){var S;try{return r=P.options.validator(M,N&&N[_],r)}catch(q){return S=q,P.emit("error",S)}}()),P.options.explicitChildren&&!P.options.mergeAttrs&&typeof r=="object"){if(!P.options.preserveChildrenOrder)c={},P.options.attrkey in r&&(c[P.options.attrkey]=r[P.options.attrkey],delete r[P.options.attrkey]),!P.options.charsAsChildren&&P.options.charkey in r&&(c[P.options.charkey]=r[P.options.charkey],delete r[P.options.charkey]),Object.getOwnPropertyNames(r).length>0&&(c[P.options.childkey]=r),r=c;else if(N){N[P.options.childkey]=N[P.options.childkey]||[],C={};for(e in r)I.call(r,e)&&b(C,e,r[e]);N[P.options.childkey].push(C),delete r["#name"],Object.keys(r).length===1&&T in r&&!P.EXPLICIT_CHARKEY&&(r=r[T])}}return L.length>0?P.assignOrPush(N,_,r):(P.options.explicitRoot&&(p=r,r={},b(r,_,p)),P.resultObject=r,P.saxParser.ended=!0,P.emit("end",P.resultObject))}}(this),v=function(P){return function(l){var i,e;if(e=L[L.length-1],e)return e[T]+=l,P.options.explicitChildren&&P.options.preserveChildrenOrder&&P.options.charsAsChildren&&(P.options.includeWhiteChars||l.replace(/\\n/g,"").trim()!=="")&&(e[P.options.childkey]=e[P.options.childkey]||[],i={"#name":"__text__"},i[T]=l,P.options.normalize&&(i[T]=i[T].replace(/\s{2,}/g," ").trim()),e[P.options.childkey].push(i)),e}}(this),this.saxParser.ontext=v,this.saxParser.oncdata=function(P){return function(l){var i;if(i=v(l),i)return i.cdata=!0}}(this)},f.prototype.parseString=function(y,T){var v;T!=null&&typeof T=="function"&&(this.on("end",function(L){return this.reset(),T(null,L)}),this.on("error",function(L){return this.reset(),T(L)}));try{return y=y.toString(),y.trim()===""?(this.emit("end",null),!0):(y=u.stripBOM(y),this.options.async?(this.remaining=y,m(this.processAsync),this.saxParser):this.saxParser.write(y).close())}catch(L){if(v=L,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw v}else return this.emit("error",v),this.saxParser.errThrown=!0}},f.prototype.parseStringPromise=function(y){return new Promise(function(T){return function(v,L){return T.parseString(y,function(P,l){return P?L(P):v(l)})}}(this))},f}(D),J.parseString=function(g,f,y){var T,v,L;return y!=null?(typeof y=="function"&&(T=y),typeof f=="object"&&(v=f)):(typeof f=="function"&&(T=f),v={}),L=new J.Parser(v),L.parseString(g,T)},J.parseStringPromise=function(g,f){var y,T;return typeof f=="object"&&(y=f),T=new J.Parser(y),T.parseStringPromise(g)}}).call(J)});var di=X(tt=>{(function(){"use strict";var u,o,b,D,s=function(a,h){for(var m in h)d.call(h,m)&&(a[m]=h[m]);function w(){this.constructor=a}return w.prototype=h.prototype,a.prototype=new w,a.__super__=h.prototype,a},d={}.hasOwnProperty;o=ht(),u=li(),b=pi(),D=Rt(),tt.defaults=o.defaults,tt.processors=D,tt.ValidationError=function(a){s(h,a);function h(m){this.message=m}return h}(Error),tt.Builder=u.Builder,tt.Parser=b.Parser,tt.parseString=b.parseString,tt.parseStringPromise=b.parseStringPromise}).call(tt)});var Vi={};Xi(Vi,{default:()=>_i});module.exports=Ri(Vi);var x=require("@raycast/api"),ct=require("react");var mi=require("@raycast/api"),et=require("child_process"),yi=qi(di()),ji=async u=>(await new yi.Parser().parseStringPromise(u)).plist.dict[0].array[0].dict.map(s=>{let d=s.key,a=s.string;return Array.isArray(d)&&s.key.indexOf("LastDestination")!=-1&&d.splice(s.key.indexOf("LastDestination"),1),{Name:a[d.indexOf("Name")],Kind:a[d.indexOf("Kind")],URL:d.indexOf("URL")==-1?void 0:a[d.indexOf("URL")],MountPoint:d.indexOf("MountPoint")==-1?void 0:a[d.indexOf("MountPoint")],LastDestination:!!s.key.includes("LastDestination"),ID:a[d.indexOf("ID")]}});function gi(u){let o=u.slice(0,10),b=u.slice(11),D=`${b.slice(0,2)}:${b.slice(2,4)}:${b.slice(4,6)}`;return[`${o}`,`${D}`]}function wi(){return new Promise((u,o)=>{(0,et.exec)("/usr/bin/tmutil destinationinfo -X",(b,D)=>{b?o([]):ji(D).then(s=>{u(s)}).catch(()=>{o([])})})})}function Ti(u){return new Promise((o,b)=>{(0,et.exec)(`/usr/sbin/diskutil eject "$(/usr/sbin/diskutil info "${u.MountPoint}" | grep "Device Node:" | awk '{print $3}')"`,(D,s,d)=>{D&&b("Failed to eject"+d),o("Ejected")})})}function Di(u){return new Promise((o,b)=>{(0,et.exec)(`/usr/bin/tmutil listbackups -d "${u.MountPoint}" -t`,(D,s,d)=>{D&&(D.toString().includes("No backups found for host.")?o([]):(b([]),console.error(d)));let a=s.split(`
`);a.pop(),o(a)})})}function Ei(u){let o="";return u!=null?o=`/usr/bin/tmutil startbackup -d '${u.ID}'`:o="/usr/bin/tmutil startbackup --auto",new Promise((b,D)=>{(0,et.exec)(o,(s,d,a)=>{s&&(D(""),console.error(a)),b("")})})}function jt(u,o){return new Promise((b,D)=>{(0,et.exec)(`/usr/bin/tmutil listbackups -d '${o.MountPoint}' | grep '${u}'`,(s,d,a)=>{s&&(D([]),console.error(a)),b(d.split(`
`)[0])})})}function bi(u,o){return new Promise((b,D)=>{(0,et.exec)(`/usr/bin/open $(/usr/bin/tmutil listbackups -d '${o.MountPoint}' | grep '${u}')`,(s,d,a)=>{s&&(a.includes("does not exist.")?(0,et.exec)(`/usr/bin/open ${o.MountPoint}`,(h,m,w)=>{h&&(D([]),console.error(w)),b("Opened Parent Folder Successfully")}):(D([]),console.error(a))),b("Opened Successfully")})})}function Bt(u){return new Promise((o,b)=>{let D=`cd "${u}" && /bin/ls -lh | /usr/bin/grep -v "total"`;(0,et.exec)(D,(s,d)=>{s&&b([]);let a=[];d.split(`
`).forEach(h=>{if(h.length!=0){let m=h.split(" ").filter(v=>v!=""),w=m[4],O=m[5],I=m[6],g=m[7],f=m.splice(8).join(""),y=u+"/"+f,T={folder:f,path:y,size:w,lastModified_month:O,lastModified_day:I,lastModified_time:g};a.push(T)}}),o(a)})})}var Ii=require("@raycast/api"),Oi=require("@raycast/api"),B=require("react/jsx-runtime");function Bi(u){if(u.destination.MountPoint!=null)return(0,B.jsx)(x.Action,{title:"Unmount",shortcut:{key:"x",modifiers:["ctrl"]},onAction:()=>{(0,x.confirmAlert)({icon:x.Icon.Warning,title:`Confirm unmounting disk: 
 ${u.destination.Name}`}).then(o=>{o&&((0,x.showToast)({title:"Ejecting...",style:x.Toast.Style.Animated}),Ti(u.destination).then(()=>{u.set_isLoading(!0),(0,x.showToast)({title:"Successfully Ejected",style:x.Toast.Style.Success})}).catch(b=>(0,x.showToast)({title:b,style:x.Toast.Style.Failure})))})}})}function Ui(u){let{push:o}=(0,x.useNavigation)();if(u.destination.MountPoint!=null)return(0,B.jsx)(x.Action,{title:"List Backup",shortcut:{key:"o",modifiers:["cmd"]},onAction:()=>{(0,x.showToast)({title:"Listing backup ...",style:x.Toast.Style.Animated}).then(b=>{Di(u.destination).then(D=>{b.hide(),o((0,B.jsx)(x.List,{children:D.length==0?(0,B.jsx)(x.List.EmptyView,{title:"No backup found on this destination.",icon:x.Icon.Info}):D.map(s=>{let[d,a]=gi(s);return(0,B.jsx)(x.List.Item,{icon:x.Icon.Clock,title:d,subtitle:a,actions:(0,B.jsxs)(x.ActionPanel,{children:[(0,B.jsx)(Pi,{timestamp:s,destination:u.destination}),(0,B.jsx)(x.Action,{title:"Reveal in Finder",shortcut:{key:"r",modifiers:["ctrl","cmd"]},onAction:()=>{bi(s,u.destination).then(()=>(0,x.closeMainWindow)({clearRootSearch:!0})).catch(()=>(0,x.showHUD)(`Failed to open backup: ${s}`))}}),(0,B.jsx)(x.Action.CopyToClipboard,{title:"Copy Timestamp",content:s,shortcut:{key:"c",modifiers:["cmd"]}}),(0,B.jsx)(x.Action,{title:"Copy Timestamp Volume Path",shortcut:{key:"c",modifiers:["cmd","opt"]},onAction:()=>{jt(s,u.destination).then(h=>{Ii.Clipboard.copy(h.toString()),(0,x.showHUD)("Copied to Clipboard")})}})]})},s)})}))}).catch(()=>{(0,x.showToast)({title:"Failed to fetch backup list.",style:x.Toast.Style.Failure})})})}})}function Ni(u){return(0,B.jsx)(x.List,{children:u.content_items.length==0?(0,B.jsx)(x.List.EmptyView,{title:"The folder is empty"}):u.content_items.map(o=>(0,B.jsx)(x.List.Item,{title:o.folder,accessories:[{tag:{value:o.lastModified_month+"-"+o.lastModified_day+" "+o.lastModified_time}}],actions:(0,B.jsxs)(x.ActionPanel,{children:[(0,B.jsx)(Pi,{path:o.path}),(0,B.jsx)(x.Action.ShowInFinder,{shortcut:{key:"r",modifiers:["cmd","ctrl"]},path:o.path})]})},o.path+o.lastModified_month+"-"+o.lastModified_day+"-"+o.lastModified_time+"-"+Math.random().toString()))})}function Pi(u){let{push:o}=(0,x.useNavigation)();return(0,B.jsx)(x.Action,{title:"Reveal Backup Content",onAction:()=>{u.timestamp!=null&&u.destination!=null?(0,x.showToast)({title:"Loading Content...",style:x.Toast.Style.Animated}).then(b=>{jt(u.timestamp,u.destination).then(D=>Bt(D.toString())).then(D=>{b.hide(),o((0,B.jsx)(Ni,{content_items:D}))}).catch(()=>{b.hide(),(0,x.confirmAlert)({icon:x.Icon.Finder,title:`Backup has not been mounted
Mount by open using Finder ?`,message:`(By manually open folder 
"${u.timestamp}"when finder opens)`}).then(D=>{D==!0&&(u.destination!=null&&u.destination.MountPoint!=null?(0,Oi.open)(u.destination?.MountPoint?.toString()):(0,x.showToast)({title:"Selected Item is not Directory",style:x.Toast.Style.Failure}))})})}):u.path!=null?(0,x.showToast)({title:"Loading Content...",style:x.Toast.Style.Animated}).then(b=>{Bt(u.path).then(D=>{b.hide(),o((0,B.jsx)(Ni,{content_items:D}))}).catch(()=>{(0,x.showToast)({title:"Selected Item is not Directory",style:x.Toast.Style.Failure})})}):(0,x.showToast)({title:"Both PATH and TIMESTAMP are not specified !",style:x.Toast.Style.Failure})}})}function ki(u){return u.destination.MountPoint!=null||u.destination.URL!=null?(0,B.jsx)(x.Action,{title:"Start Backup on Destination",onAction:()=>{(0,x.showToast)({title:"Starting Backup...",style:x.Toast.Style.Animated}).then(o=>{console.log(`/usr/bin/tmutil startbackup --destination="${u.destination.ID}"`),Ei(u.destination).then(()=>{setTimeout(()=>{o.hide(),(0,x.showToast)({title:"Backup Started",style:x.Toast.Style.Success})},1e3)}).catch(()=>{o.hide(),(0,x.showToast)({title:"Failed to Start Backup",style:x.Toast.Style.Failure})})})}}):(0,B.jsx)(B.Fragment,{})}function _i(){let[u,o]=(0,ct.useState)([]),[b,D]=(0,ct.useState)(!0);return(0,ct.useEffect)(()=>{wi().then(s=>{o(s)}).catch(()=>{o([])}),D(!1)},[b]),(0,B.jsx)(x.List,{isLoading:b,children:u.length===0?(0,B.jsx)(x.List.EmptyView,{title:"Setup at least one backup destination first."}):u.map(s=>{let d=s.Kind=="Local"?s.MountPoint:s.URL;return(0,B.jsx)(x.List.Item,{icon:x.Icon.HardDrive,title:{value:s.Name,tooltip:s.ID},subtitle:s.LastDestination?"\u2190 Last Backup Destination":"",accessories:[{tag:{value:d==null?"Unmounted":"  Mounted  ",color:d==null?x.Color.Red:x.Color.Green}},{tag:{value:s.Kind,color:s.Kind=="Local"?x.Color.PrimaryText:x.Color.PrimaryText}}],actions:(0,B.jsxs)(x.ActionPanel,{children:[(0,B.jsx)(ki,{destination:s}),(0,B.jsx)(Ui,{destination:s}),(0,B.jsx)(Bi,{destination:s,set_isLoading:D})]})},s.ID)})})}
/*! Bundled license information:

sax/lib/sax.js:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
*/
