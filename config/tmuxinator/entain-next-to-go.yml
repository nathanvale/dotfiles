# ~/.config/tmuxinator/entain-next-to-go.yml

name: entain-next-to-go
root: <%= ENV['HOME'] %>/code/entain-next-to-go

# Project hooks
on_project_start: |
  source ~/.config/tmuxinator/scripts/common-setup.sh
  setup_vscode_marker "entain-next-to-go"

on_project_stop: |
  source ~/.config/tmuxinator/scripts/common-setup.sh
  cleanup_vscode_marker "entain-next-to-go"

pre_window: |
  source ~/.config/tmuxinator/scripts/common-setup.sh
  open_vscode_once "entain-next-to-go"

# Tmux configuration
tmux_options: -f ~/.tmux.conf
startup_window: claude
startup_pane: 1

# Windows
windows:
  - claude:
      panes:
        - |
          source ~/.config/tmuxinator/scripts/common-setup.sh
          pane_setup "claude"
          claude

  - git:
      panes:
        - |
          source ~/.config/tmuxinator/scripts/common-setup.sh
          pane_setup "git"
          lazygit

  - dev:
      panes:
        - |
          source ~/.config/tmuxinator/scripts/common-setup.sh
          pane_setup "dev"
          npm run dev

  - vault:
      panes:
        - |
          source ~/.config/tmuxinator/scripts/common-setup.sh
          pane_setup "vault"
          if command -v "$HOME/code/dotfiles/bin/vault/vault" >/dev/null 2>&1; then
            "$HOME/code/dotfiles/bin/vault/vault" status
          else
            echo "Vault manager not available"
          fi
          echo
          echo "Vault shortcuts:"
          echo "  Ctrl-g V - Browse all vaults"
          echo "  Ctrl-g v - Open current project vault"
          echo "  Ctrl-g D - Browse docs vaults"
