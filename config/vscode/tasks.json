{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Next Task",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "TASK_ID=$(${env:HOME}/.claude/scripts/find-next-task.sh) && if [ -z \"$TASK_ID\" ]; then echo '❌ No READY tasks found'; exit 0; fi && echo \"✅ Selected: $TASK_ID\" && ${env:HOME}/.claude/scripts/create-worktree.sh \"$TASK_ID\" && code -n ./worktrees/\"$TASK_ID\""
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true,
        "showReuseMessage": false
      }
    },
    {
      "label": "Cleanup Merged Worktrees",
      "type": "shell",
      "command": "${env:HOME}/.claude/scripts/cleanup-merged-worktrees.sh",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true,
        "showReuseMessage": false
      }
    },
    {
      "label": "Show Worktree Status",
      "type": "shell",
      "command": "${env:HOME}/.claude/scripts/worktree-status.sh",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "Clean Stale Locks",
      "type": "shell",
      "command": "${env:HOME}/.claude/scripts/clean-stale-locks.sh",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "List Tasks",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "echo '=== Tasks ===' && find . -name 'T[0-9][0-9][0-9][0-9]-*.md' -exec bash -c 'echo \"\" && basename \"{}\" && grep \"^status:\" \"{}\" && grep \"^priority:\" \"{}\"' \\;"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "Merge PR (Current Worktree)",
      "type": "shell",
      "command": "${env:HOME}/.claude/scripts/merge-pr.sh",
      "args": ["--current"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true,
        "showReuseMessage": false
      }
    },
    {
      "label": "Merge PR (by Task ID)",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "read -p 'Enter Task ID (e.g., T0030 or MPCU-0005): ' TASK_ID && ${env:HOME}/.claude/scripts/merge-pr.sh \"$TASK_ID\""
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true,
        "showReuseMessage": false
      }
    },
    {
      "label": "Merge PR (by PR Number)",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "read -p 'Enter PR Number: ' PR_NUM && ${env:HOME}/.claude/scripts/merge-pr.sh \"$PR_NUM\""
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "focus": true,
        "showReuseMessage": false
      }
    }
  ]
}
